{"version":3,"file":"cadviewer-vendors-node_modules_nextcloud_dialogs_dist_chunks_FilePicker-65d21558_mjs.js?v=b4398849487dcdde81c3","mappings":"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","sources":["webpack:///cadviewer/node_modules/@nextcloud/files/dist/index.mjs","webpack:///cadviewer/node_modules/@nextcloud/dialogs/dist/chunks/FilePicker-65d21558.mjs"],"sourcesContent":["import { getCurrentUser as A, onRequestTokenUpdate as ue, getRequestToken as de } from \"@nextcloud/auth\";\nimport { getLoggerBuilder as q } from \"@nextcloud/logger\";\nimport { getCanonicalLocale as ae } from \"@nextcloud/l10n\";\nimport { join as le, basename as fe, extname as ce, dirname as I } from \"path\";\nimport { encodePath as he } from \"@nextcloud/paths\";\nimport { generateRemoteUrl as pe } from \"@nextcloud/router\";\nimport { createClient as ge, getPatcher as we } from \"webdav\";\n/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst me = (e) => e === null ? q().setApp(\"files\").build() : q().setApp(\"files\").setUid(e.uid).build(), m = me(A());\n/**\n * @copyright Copyright (c) 2021 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nclass Ne {\n  _entries = [];\n  registerEntry(t) {\n    this.validateEntry(t), this._entries.push(t);\n  }\n  unregisterEntry(t) {\n    const r = typeof t == \"string\" ? this.getEntryIndex(t) : this.getEntryIndex(t.id);\n    if (r === -1) {\n      m.warn(\"Entry not found, nothing removed\", { entry: t, entries: this.getEntries() });\n      return;\n    }\n    this._entries.splice(r, 1);\n  }\n  /**\n   * Get the list of registered entries\n   *\n   * @param {Folder} context the creation context. Usually the current folder\n   */\n  getEntries(t) {\n    return t ? this._entries.filter((r) => typeof r.enabled == \"function\" ? r.enabled(t) : !0) : this._entries;\n  }\n  getEntryIndex(t) {\n    return this._entries.findIndex((r) => r.id === t);\n  }\n  validateEntry(t) {\n    if (!t.id || !t.displayName || !(t.iconSvgInline || t.iconClass) || !t.handler)\n      throw new Error(\"Invalid entry\");\n    if (typeof t.id != \"string\" || typeof t.displayName != \"string\")\n      throw new Error(\"Invalid id or displayName property\");\n    if (t.iconClass && typeof t.iconClass != \"string\" || t.iconSvgInline && typeof t.iconSvgInline != \"string\")\n      throw new Error(\"Invalid icon provided\");\n    if (t.enabled !== void 0 && typeof t.enabled != \"function\")\n      throw new Error(\"Invalid enabled property\");\n    if (typeof t.handler != \"function\")\n      throw new Error(\"Invalid handler property\");\n    if (\"order\" in t && typeof t.order != \"number\")\n      throw new Error(\"Invalid order property\");\n    if (this.getEntryIndex(t.id) !== -1)\n      throw new Error(\"Duplicate entry\");\n  }\n}\nconst F = function() {\n  return typeof window._nc_newfilemenu > \"u\" && (window._nc_newfilemenu = new Ne(), m.debug(\"NewFileMenu initialized\")), window._nc_newfilemenu;\n};\n/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst C = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\"], P = [\"B\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\"];\nfunction Yt(e, t = !1, r = !1, s = !1) {\n  r = r && !s, typeof e == \"string\" && (e = Number(e));\n  let n = e > 0 ? Math.floor(Math.log(e) / Math.log(s ? 1e3 : 1024)) : 0;\n  n = Math.min((r ? P.length : C.length) - 1, n);\n  const i = r ? P[n] : C[n];\n  let d = (e / Math.pow(s ? 1e3 : 1024, n)).toFixed(1);\n  return t === !0 && n === 0 ? (d !== \"0.0\" ? \"< 1 \" : \"0 \") + (r ? P[1] : C[1]) : (n < 2 ? d = parseFloat(d).toFixed(0) : d = parseFloat(d).toLocaleString(ae()), d + \" \" + i);\n}\nfunction Jt(e, t = !1) {\n  try {\n    e = `${e}`.toLocaleLowerCase().replaceAll(/\\s+/g, \"\").replaceAll(\",\", \".\");\n  } catch {\n    return null;\n  }\n  const r = e.match(/^([0-9]*(\\.[0-9]*)?)([kmgtp]?)(i?)b?$/);\n  if (r === null || r[1] === \".\" || r[1] === \"\")\n    return null;\n  const s = {\n    \"\": 0,\n    k: 1,\n    m: 2,\n    g: 3,\n    t: 4,\n    p: 5,\n    e: 6\n  }, n = `${r[1]}`, i = r[4] === \"i\" || t ? 1024 : 1e3;\n  return Math.round(Number.parseFloat(n) * i ** s[r[3]]);\n}\n/**\n * @copyright Copyright (c) 2023 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nvar Z = /* @__PURE__ */ ((e) => (e.DEFAULT = \"default\", e.HIDDEN = \"hidden\", e))(Z || {});\nclass Qt {\n  _action;\n  constructor(t) {\n    this.validateAction(t), this._action = t;\n  }\n  get id() {\n    return this._action.id;\n  }\n  get displayName() {\n    return this._action.displayName;\n  }\n  get title() {\n    return this._action.title;\n  }\n  get iconSvgInline() {\n    return this._action.iconSvgInline;\n  }\n  get enabled() {\n    return this._action.enabled;\n  }\n  get exec() {\n    return this._action.exec;\n  }\n  get execBatch() {\n    return this._action.execBatch;\n  }\n  get order() {\n    return this._action.order;\n  }\n  get parent() {\n    return this._action.parent;\n  }\n  get default() {\n    return this._action.default;\n  }\n  get inline() {\n    return this._action.inline;\n  }\n  get renderInline() {\n    return this._action.renderInline;\n  }\n  validateAction(t) {\n    if (!t.id || typeof t.id != \"string\")\n      throw new Error(\"Invalid id\");\n    if (!t.displayName || typeof t.displayName != \"function\")\n      throw new Error(\"Invalid displayName function\");\n    if (\"title\" in t && typeof t.title != \"function\")\n      throw new Error(\"Invalid title function\");\n    if (!t.iconSvgInline || typeof t.iconSvgInline != \"function\")\n      throw new Error(\"Invalid iconSvgInline function\");\n    if (!t.exec || typeof t.exec != \"function\")\n      throw new Error(\"Invalid exec function\");\n    if (\"enabled\" in t && typeof t.enabled != \"function\")\n      throw new Error(\"Invalid enabled function\");\n    if (\"execBatch\" in t && typeof t.execBatch != \"function\")\n      throw new Error(\"Invalid execBatch function\");\n    if (\"order\" in t && typeof t.order != \"number\")\n      throw new Error(\"Invalid order\");\n    if (\"parent\" in t && typeof t.parent != \"string\")\n      throw new Error(\"Invalid parent\");\n    if (t.default && !Object.values(Z).includes(t.default))\n      throw new Error(\"Invalid default\");\n    if (\"inline\" in t && typeof t.inline != \"function\")\n      throw new Error(\"Invalid inline function\");\n    if (\"renderInline\" in t && typeof t.renderInline != \"function\")\n      throw new Error(\"Invalid renderInline function\");\n  }\n}\nconst Dt = function(e) {\n  if (typeof window._nc_fileactions > \"u\" && (window._nc_fileactions = [], m.debug(\"FileActions initialized\")), window._nc_fileactions.find((t) => t.id === e.id)) {\n    m.error(`FileAction ${e.id} already registered`, { action: e });\n    return;\n  }\n  window._nc_fileactions.push(e);\n}, er = function() {\n  return typeof window._nc_fileactions > \"u\" && (window._nc_fileactions = [], m.debug(\"FileActions initialized\")), window._nc_fileactions;\n};\n/**\n * @copyright Copyright (c) 2023 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nclass tr {\n  _header;\n  constructor(t) {\n    this.validateHeader(t), this._header = t;\n  }\n  get id() {\n    return this._header.id;\n  }\n  get order() {\n    return this._header.order;\n  }\n  get enabled() {\n    return this._header.enabled;\n  }\n  get render() {\n    return this._header.render;\n  }\n  get updated() {\n    return this._header.updated;\n  }\n  validateHeader(t) {\n    if (!t.id || !t.render || !t.updated)\n      throw new Error(\"Invalid header: id, render and updated are required\");\n    if (typeof t.id != \"string\")\n      throw new Error(\"Invalid id property\");\n    if (t.enabled !== void 0 && typeof t.enabled != \"function\")\n      throw new Error(\"Invalid enabled property\");\n    if (t.render && typeof t.render != \"function\")\n      throw new Error(\"Invalid render property\");\n    if (t.updated && typeof t.updated != \"function\")\n      throw new Error(\"Invalid updated property\");\n  }\n}\nconst rr = function(e) {\n  if (typeof window._nc_filelistheader > \"u\" && (window._nc_filelistheader = [], m.debug(\"FileListHeaders initialized\")), window._nc_filelistheader.find((t) => t.id === e.id)) {\n    m.error(`Header ${e.id} already registered`, { header: e });\n    return;\n  }\n  window._nc_filelistheader.push(e);\n}, nr = function() {\n  return typeof window._nc_filelistheader > \"u\" && (window._nc_filelistheader = [], m.debug(\"FileListHeaders initialized\")), window._nc_filelistheader;\n};\n/**\n * @copyright Copyright (c) 2022 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nvar N = /* @__PURE__ */ ((e) => (e[e.NONE = 0] = \"NONE\", e[e.CREATE = 4] = \"CREATE\", e[e.READ = 1] = \"READ\", e[e.UPDATE = 2] = \"UPDATE\", e[e.DELETE = 8] = \"DELETE\", e[e.SHARE = 16] = \"SHARE\", e[e.ALL = 31] = \"ALL\", e))(N || {});\n/**\n * @copyright Copyright (c) 2023 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst j = [\n  \"d:getcontentlength\",\n  \"d:getcontenttype\",\n  \"d:getetag\",\n  \"d:getlastmodified\",\n  \"d:quota-available-bytes\",\n  \"d:resourcetype\",\n  \"nc:has-preview\",\n  \"nc:is-encrypted\",\n  \"nc:mount-type\",\n  \"nc:share-attributes\",\n  \"oc:comments-unread\",\n  \"oc:favorite\",\n  \"oc:fileid\",\n  \"oc:owner-display-name\",\n  \"oc:owner-id\",\n  \"oc:permissions\",\n  \"oc:share-types\",\n  \"oc:size\",\n  \"ocs:share-permissions\"\n], Y = {\n  d: \"DAV:\",\n  nc: \"http://nextcloud.org/ns\",\n  oc: \"http://owncloud.org/ns\",\n  ocs: \"http://open-collaboration-services.org/ns\"\n}, ir = function(e, t = { nc: \"http://nextcloud.org/ns\" }) {\n  typeof window._nc_dav_properties > \"u\" && (window._nc_dav_properties = [...j], window._nc_dav_namespaces = { ...Y });\n  const r = { ...window._nc_dav_namespaces, ...t };\n  if (window._nc_dav_properties.find((n) => n === e))\n    return m.error(`${e} already registered`, { prop: e }), !1;\n  if (e.startsWith(\"<\") || e.split(\":\").length !== 2)\n    return m.error(`${e} is not valid. See example: 'oc:fileid'`, { prop: e }), !1;\n  const s = e.split(\":\")[0];\n  return r[s] ? (window._nc_dav_properties.push(e), window._nc_dav_namespaces = r, !0) : (m.error(`${e} namespace unknown`, { prop: e, namespaces: r }), !1);\n}, V = function() {\n  return typeof window._nc_dav_properties > \"u\" && (window._nc_dav_properties = [...j]), window._nc_dav_properties.map((e) => `<${e} />`).join(\" \");\n}, L = function() {\n  return typeof window._nc_dav_namespaces > \"u\" && (window._nc_dav_namespaces = { ...Y }), Object.keys(window._nc_dav_namespaces).map((e) => `xmlns:${e}=\"${window._nc_dav_namespaces?.[e]}\"`).join(\" \");\n}, sr = function() {\n  return `<?xml version=\"1.0\"?>\n\t\t<d:propfind ${L()}>\n\t\t\t<d:prop>\n\t\t\t\t${V()}\n\t\t\t</d:prop>\n\t\t</d:propfind>`;\n}, Ee = function() {\n  return `<?xml version=\"1.0\"?>\n\t\t<oc:filter-files ${L()}>\n\t\t\t<d:prop>\n\t\t\t\t${V()}\n\t\t\t</d:prop>\n\t\t\t<oc:filter-rules>\n\t\t\t\t<oc:favorite>1</oc:favorite>\n\t\t\t</oc:filter-rules>\n\t\t</oc:filter-files>`;\n}, or = function(e) {\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<d:searchrequest ${L()}\n\txmlns:ns=\"https://github.com/icewind1991/SearchDAV/ns\">\n\t<d:basicsearch>\n\t\t<d:select>\n\t\t\t<d:prop>\n\t\t\t\t${V()}\n\t\t\t</d:prop>\n\t\t</d:select>\n\t\t<d:from>\n\t\t\t<d:scope>\n\t\t\t\t<d:href>/files/${A()?.uid}/</d:href>\n\t\t\t\t<d:depth>infinity</d:depth>\n\t\t\t</d:scope>\n\t\t</d:from>\n\t\t<d:where>\n\t\t\t<d:and>\n\t\t\t\t<d:or>\n\t\t\t\t\t<d:not>\n\t\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t\t<d:getcontenttype/>\n\t\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t\t<d:literal>httpd/unix-directory</d:literal>\n\t\t\t\t\t\t</d:eq>\n\t\t\t\t\t</d:not>\n\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t<oc:size/>\n\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t<d:literal>0</d:literal>\n\t\t\t\t\t</d:eq>\n\t\t\t\t</d:or>\n\t\t\t\t<d:gt>\n\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t\t</d:prop>\n\t\t\t\t\t<d:literal>${e}</d:literal>\n\t\t\t\t</d:gt>\n\t\t\t</d:and>\n\t\t</d:where>\n\t\t<d:orderby>\n\t\t\t<d:order>\n\t\t\t\t<d:prop>\n\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t</d:prop>\n\t\t\t\t<d:descending/>\n\t\t\t</d:order>\n\t\t</d:orderby>\n\t\t<d:limit>\n\t\t\t<d:nresults>100</d:nresults>\n\t\t\t<ns:firstresult>0</ns:firstresult>\n\t\t</d:limit>\n\t</d:basicsearch>\n</d:searchrequest>`;\n};\n/**\n * @copyright Copyright (c) 2023 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst be = function(e = \"\") {\n  let t = N.NONE;\n  return e && ((e.includes(\"C\") || e.includes(\"K\")) && (t |= N.CREATE), e.includes(\"G\") && (t |= N.READ), (e.includes(\"W\") || e.includes(\"N\") || e.includes(\"V\")) && (t |= N.UPDATE), e.includes(\"D\") && (t |= N.DELETE), e.includes(\"R\") && (t |= N.SHARE)), t;\n};\n/**\n * @copyright Copyright (c) 2022 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nvar R = /* @__PURE__ */ ((e) => (e.Folder = \"folder\", e.File = \"file\", e))(R || {});\n/**\n * @copyright Copyright (c) 2022 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst J = function(e, t) {\n  return e.match(t) !== null;\n}, X = (e, t) => {\n  if (e.id && typeof e.id != \"number\")\n    throw new Error(\"Invalid id type of value\");\n  if (!e.source)\n    throw new Error(\"Missing mandatory source\");\n  try {\n    new URL(e.source);\n  } catch {\n    throw new Error(\"Invalid source format, source must be a valid URL\");\n  }\n  if (!e.source.startsWith(\"http\"))\n    throw new Error(\"Invalid source format, only http(s) is supported\");\n  if (e.mtime && !(e.mtime instanceof Date))\n    throw new Error(\"Invalid mtime type\");\n  if (e.crtime && !(e.crtime instanceof Date))\n    throw new Error(\"Invalid crtime type\");\n  if (!e.mime || typeof e.mime != \"string\" || !e.mime.match(/^[-\\w.]+\\/[-+\\w.]+$/gi))\n    throw new Error(\"Missing or invalid mandatory mime\");\n  if (\"size\" in e && typeof e.size != \"number\" && e.size !== void 0)\n    throw new Error(\"Invalid size type\");\n  if (\"permissions\" in e && e.permissions !== void 0 && !(typeof e.permissions == \"number\" && e.permissions >= N.NONE && e.permissions <= N.ALL))\n    throw new Error(\"Invalid permissions\");\n  if (e.owner && e.owner !== null && typeof e.owner != \"string\")\n    throw new Error(\"Invalid owner type\");\n  if (e.attributes && typeof e.attributes != \"object\")\n    throw new Error(\"Invalid attributes type\");\n  if (e.root && typeof e.root != \"string\")\n    throw new Error(\"Invalid root type\");\n  if (e.root && !e.root.startsWith(\"/\"))\n    throw new Error(\"Root must start with a leading slash\");\n  if (e.root && !e.source.includes(e.root))\n    throw new Error(\"Root must be part of the source\");\n  if (e.root && J(e.source, t)) {\n    const r = e.source.match(t)[0];\n    if (!e.source.includes(le(r, e.root)))\n      throw new Error(\"The root must be relative to the service. e.g /files/emma\");\n  }\n  if (e.status && !Object.values(Q).includes(e.status))\n    throw new Error(\"Status must be a valid NodeStatus\");\n};\n/**\n * @copyright Copyright (c) 2022 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nvar Q = /* @__PURE__ */ ((e) => (e.NEW = \"new\", e.FAILED = \"failed\", e.LOADING = \"loading\", e.LOCKED = \"locked\", e))(Q || {});\nclass D {\n  _data;\n  _attributes;\n  _knownDavService = /(remote|public)\\.php\\/(web)?dav/i;\n  constructor(t, r) {\n    X(t, r || this._knownDavService), this._data = t;\n    const s = {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      set: (n, i, d) => (this.updateMtime(), Reflect.set(n, i, d)),\n      deleteProperty: (n, i) => (this.updateMtime(), Reflect.deleteProperty(n, i))\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    };\n    this._attributes = new Proxy(t.attributes || {}, s), delete this._data.attributes, r && (this._knownDavService = r);\n  }\n  /**\n   * Get the source url to this object\n   */\n  get source() {\n    return this._data.source.replace(/\\/$/i, \"\");\n  }\n  /**\n   * Get the encoded source url to this object for requests purposes\n   */\n  get encodedSource() {\n    const { origin: t } = new URL(this.source);\n    return t + he(this.source.slice(t.length));\n  }\n  /**\n   * Get this object name\n   */\n  get basename() {\n    return fe(this.source);\n  }\n  /**\n   * Get this object's extension\n   */\n  get extension() {\n    return ce(this.source);\n  }\n  /**\n   * Get the directory path leading to this object\n   * Will use the relative path to root if available\n   */\n  get dirname() {\n    if (this.root) {\n      const r = this.source.indexOf(this.root);\n      return I(this.source.slice(r + this.root.length) || \"/\");\n    }\n    const t = new URL(this.source);\n    return I(t.pathname);\n  }\n  /**\n   * Get the file mime\n   */\n  get mime() {\n    return this._data.mime;\n  }\n  /**\n   * Get the file modification time\n   */\n  get mtime() {\n    return this._data.mtime;\n  }\n  /**\n   * Get the file creation time\n   */\n  get crtime() {\n    return this._data.crtime;\n  }\n  /**\n   * Get the file size\n   */\n  get size() {\n    return this._data.size;\n  }\n  /**\n   * Get the file attribute\n   */\n  get attributes() {\n    return this._attributes;\n  }\n  /**\n   * Get the file permissions\n   */\n  get permissions() {\n    return this.owner === null && !this.isDavRessource ? N.READ : this._data.permissions !== void 0 ? this._data.permissions : N.NONE;\n  }\n  /**\n   * Get the file owner\n   */\n  get owner() {\n    return this.isDavRessource ? this._data.owner : null;\n  }\n  /**\n   * Is this a dav-related ressource ?\n   */\n  get isDavRessource() {\n    return J(this.source, this._knownDavService);\n  }\n  /**\n   * Get the dav root of this object\n   */\n  get root() {\n    return this._data.root ? this._data.root.replace(/^(.+)\\/$/, \"$1\") : this.isDavRessource && I(this.source).split(this._knownDavService).pop() || null;\n  }\n  /**\n   * Get the absolute path of this object relative to the root\n   */\n  get path() {\n    if (this.root) {\n      const t = this.source.indexOf(this.root);\n      return this.source.slice(t + this.root.length) || \"/\";\n    }\n    return (this.dirname + \"/\" + this.basename).replace(/\\/\\//g, \"/\");\n  }\n  /**\n   * Get the node id if defined.\n   * Will look for the fileid in attributes if undefined.\n   */\n  get fileid() {\n    return this._data?.id || this.attributes?.fileid;\n  }\n  /**\n   * Get the node status.\n   */\n  get status() {\n    return this._data?.status;\n  }\n  /**\n   * Set the node status.\n   */\n  set status(t) {\n    this._data.status = t;\n  }\n  /**\n   * Move the node to a new destination\n   *\n   * @param {string} destination the new source.\n   * e.g. https://cloud.domain.com/remote.php/dav/files/emma/Photos/picture.jpg\n   */\n  move(t) {\n    X({ ...this._data, source: t }, this._knownDavService), this._data.source = t, this.updateMtime();\n  }\n  /**\n   * Rename the node\n   * This aliases the move method for easier usage\n   *\n   * @param basename The new name of the node\n   */\n  rename(t) {\n    if (t.includes(\"/\"))\n      throw new Error(\"Invalid basename\");\n    this.move(I(this.source) + \"/\" + t);\n  }\n  /**\n   * Update the mtime if exists.\n   */\n  updateMtime() {\n    this._data.mtime && (this._data.mtime = /* @__PURE__ */ new Date());\n  }\n}\n/**\n * @copyright Copyright (c) 2022 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nclass ye extends D {\n  get type() {\n    return R.File;\n  }\n}\n/**\n * @copyright Copyright (c) 2022 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nclass _e extends D {\n  constructor(t) {\n    super({\n      ...t,\n      mime: \"httpd/unix-directory\"\n    });\n  }\n  get type() {\n    return R.Folder;\n  }\n  get extension() {\n    return null;\n  }\n  get mime() {\n    return \"httpd/unix-directory\";\n  }\n}\n/**\n * @copyright Copyright (c) 2023 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst ee = `/files/${A()?.uid}`, te = pe(\"dav\"), ur = function(e = te) {\n  const t = ge(e);\n  function r(n) {\n    t.setHeaders({\n      // Add this so the server knows it is an request from the browser\n      \"X-Requested-With\": \"XMLHttpRequest\",\n      // Inject user auth\n      requesttoken: n ?? \"\"\n    });\n  }\n  return ue(r), r(de()), we().patch(\"fetch\", (n, i) => {\n    const d = i.headers;\n    return d?.method && (i.method = d.method, delete d.method), fetch(n, i);\n  }), t;\n}, dr = async (e, t = \"/\", r = ee) => (await e.getDirectoryContents(`${r}${t}`, {\n  details: !0,\n  data: Ee(),\n  headers: {\n    // see davGetClient for patched webdav client\n    method: \"REPORT\"\n  },\n  includeSelf: !0\n})).data.filter((n) => n.filename !== t).map((n) => ve(n, r)), ve = function(e, t = ee, r = te) {\n  const s = e.props, n = be(s?.permissions), i = A()?.uid, d = {\n    id: s?.fileid || 0,\n    source: `${r}${e.filename}`,\n    mtime: new Date(Date.parse(e.lastmod)),\n    mime: e.mime,\n    size: s?.size || Number.parseInt(s.getcontentlength || \"0\"),\n    permissions: n,\n    owner: i,\n    root: t,\n    attributes: {\n      ...e,\n      ...s,\n      hasPreview: s?.[\"has-preview\"]\n    }\n  };\n  return delete d.attributes?.props, e.type === \"file\" ? new ye(d) : new _e(d);\n};\n/**\n * @copyright Copyright (c) 2022 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nclass Te {\n  _views = [];\n  _currentView = null;\n  register(t) {\n    if (this._views.find((r) => r.id === t.id))\n      throw new Error(`View id ${t.id} is already registered`);\n    this._views.push(t);\n  }\n  remove(t) {\n    const r = this._views.findIndex((s) => s.id === t);\n    r !== -1 && this._views.splice(r, 1);\n  }\n  get views() {\n    return this._views;\n  }\n  setActive(t) {\n    this._currentView = t;\n  }\n  get active() {\n    return this._currentView;\n  }\n}\nconst ar = function() {\n  return typeof window._nc_navigation > \"u\" && (window._nc_navigation = new Te(), m.debug(\"Navigation service initialized\")), window._nc_navigation;\n};\n/**\n * @copyright Copyright (c) 2022 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nclass Ie {\n  _column;\n  constructor(t) {\n    Ae(t), this._column = t;\n  }\n  get id() {\n    return this._column.id;\n  }\n  get title() {\n    return this._column.title;\n  }\n  get render() {\n    return this._column.render;\n  }\n  get sort() {\n    return this._column.sort;\n  }\n  get summary() {\n    return this._column.summary;\n  }\n}\nconst Ae = function(e) {\n  if (!e.id || typeof e.id != \"string\")\n    throw new Error(\"A column id is required\");\n  if (!e.title || typeof e.title != \"string\")\n    throw new Error(\"A column title is required\");\n  if (!e.render || typeof e.render != \"function\")\n    throw new Error(\"A render function is required\");\n  if (e.sort && typeof e.sort != \"function\")\n    throw new Error(\"Column sortFunction must be a function\");\n  if (e.summary && typeof e.summary != \"function\")\n    throw new Error(\"Column summary must be a function\");\n  return !0;\n};\nvar S = {}, O = {};\n(function(e) {\n  const t = \":A-Za-z_\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\", r = t + \"\\\\-.\\\\d\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\", s = \"[\" + t + \"][\" + r + \"]*\", n = new RegExp(\"^\" + s + \"$\"), i = function(u, o) {\n    const a = [];\n    let l = o.exec(u);\n    for (; l; ) {\n      const f = [];\n      f.startIndex = o.lastIndex - l[0].length;\n      const c = l.length;\n      for (let g = 0; g < c; g++)\n        f.push(l[g]);\n      a.push(f), l = o.exec(u);\n    }\n    return a;\n  }, d = function(u) {\n    const o = n.exec(u);\n    return !(o === null || typeof o > \"u\");\n  };\n  e.isExist = function(u) {\n    return typeof u < \"u\";\n  }, e.isEmptyObject = function(u) {\n    return Object.keys(u).length === 0;\n  }, e.merge = function(u, o, a) {\n    if (o) {\n      const l = Object.keys(o), f = l.length;\n      for (let c = 0; c < f; c++)\n        a === \"strict\" ? u[l[c]] = [o[l[c]]] : u[l[c]] = o[l[c]];\n    }\n  }, e.getValue = function(u) {\n    return e.isExist(u) ? u : \"\";\n  }, e.isName = d, e.getAllMatches = i, e.nameRegexp = s;\n})(O);\nconst M = O, Oe = {\n  allowBooleanAttributes: !1,\n  //A tag can have attributes without any value\n  unpairedTags: []\n};\nS.validate = function(e, t) {\n  t = Object.assign({}, Oe, t);\n  const r = [];\n  let s = !1, n = !1;\n  e[0] === \"\\uFEFF\" && (e = e.substr(1));\n  for (let i = 0; i < e.length; i++)\n    if (e[i] === \"<\" && e[i + 1] === \"?\") {\n      if (i += 2, i = G(e, i), i.err)\n        return i;\n    } else if (e[i] === \"<\") {\n      let d = i;\n      if (i++, e[i] === \"!\") {\n        i = z(e, i);\n        continue;\n      } else {\n        let u = !1;\n        e[i] === \"/\" && (u = !0, i++);\n        let o = \"\";\n        for (; i < e.length && e[i] !== \">\" && e[i] !== \" \" && e[i] !== \"\t\" && e[i] !== `\n` && e[i] !== \"\\r\"; i++)\n          o += e[i];\n        if (o = o.trim(), o[o.length - 1] === \"/\" && (o = o.substring(0, o.length - 1), i--), !Re(o)) {\n          let f;\n          return o.trim().length === 0 ? f = \"Invalid space after '<'.\" : f = \"Tag '\" + o + \"' is an invalid name.\", p(\"InvalidTag\", f, w(e, i));\n        }\n        const a = xe(e, i);\n        if (a === !1)\n          return p(\"InvalidAttr\", \"Attributes for '\" + o + \"' have open quote.\", w(e, i));\n        let l = a.value;\n        if (i = a.index, l[l.length - 1] === \"/\") {\n          const f = i - l.length;\n          l = l.substring(0, l.length - 1);\n          const c = H(l, t);\n          if (c === !0)\n            s = !0;\n          else\n            return p(c.err.code, c.err.msg, w(e, f + c.err.line));\n        } else if (u)\n          if (a.tagClosed) {\n            if (l.trim().length > 0)\n              return p(\"InvalidTag\", \"Closing tag '\" + o + \"' can't have attributes or invalid starting.\", w(e, d));\n            {\n              const f = r.pop();\n              if (o !== f.tagName) {\n                let c = w(e, f.tagStartPos);\n                return p(\n                  \"InvalidTag\",\n                  \"Expected closing tag '\" + f.tagName + \"' (opened in line \" + c.line + \", col \" + c.col + \") instead of closing tag '\" + o + \"'.\",\n                  w(e, d)\n                );\n              }\n              r.length == 0 && (n = !0);\n            }\n          } else\n            return p(\"InvalidTag\", \"Closing tag '\" + o + \"' doesn't have proper closing.\", w(e, i));\n        else {\n          const f = H(l, t);\n          if (f !== !0)\n            return p(f.err.code, f.err.msg, w(e, i - l.length + f.err.line));\n          if (n === !0)\n            return p(\"InvalidXml\", \"Multiple possible root nodes found.\", w(e, i));\n          t.unpairedTags.indexOf(o) !== -1 || r.push({ tagName: o, tagStartPos: d }), s = !0;\n        }\n        for (i++; i < e.length; i++)\n          if (e[i] === \"<\")\n            if (e[i + 1] === \"!\") {\n              i++, i = z(e, i);\n              continue;\n            } else if (e[i + 1] === \"?\") {\n              if (i = G(e, ++i), i.err)\n                return i;\n            } else\n              break;\n          else if (e[i] === \"&\") {\n            const f = Ve(e, i);\n            if (f == -1)\n              return p(\"InvalidChar\", \"char '&' is not expected.\", w(e, i));\n            i = f;\n          } else if (n === !0 && !U(e[i]))\n            return p(\"InvalidXml\", \"Extra text at the end\", w(e, i));\n        e[i] === \"<\" && i--;\n      }\n    } else {\n      if (U(e[i]))\n        continue;\n      return p(\"InvalidChar\", \"char '\" + e[i] + \"' is not expected.\", w(e, i));\n    }\n  if (s) {\n    if (r.length == 1)\n      return p(\"InvalidTag\", \"Unclosed tag '\" + r[0].tagName + \"'.\", w(e, r[0].tagStartPos));\n    if (r.length > 0)\n      return p(\"InvalidXml\", \"Invalid '\" + JSON.stringify(r.map((i) => i.tagName), null, 4).replace(/\\r?\\n/g, \"\") + \"' found.\", { line: 1, col: 1 });\n  } else\n    return p(\"InvalidXml\", \"Start tag expected.\", 1);\n  return !0;\n};\nfunction U(e) {\n  return e === \" \" || e === \"\t\" || e === `\n` || e === \"\\r\";\n}\nfunction G(e, t) {\n  const r = t;\n  for (; t < e.length; t++)\n    if (e[t] == \"?\" || e[t] == \" \") {\n      const s = e.substr(r, t - r);\n      if (t > 5 && s === \"xml\")\n        return p(\"InvalidXml\", \"XML declaration allowed only at the start of the document.\", w(e, t));\n      if (e[t] == \"?\" && e[t + 1] == \">\") {\n        t++;\n        break;\n      } else\n        continue;\n    }\n  return t;\n}\nfunction z(e, t) {\n  if (e.length > t + 5 && e[t + 1] === \"-\" && e[t + 2] === \"-\") {\n    for (t += 3; t < e.length; t++)\n      if (e[t] === \"-\" && e[t + 1] === \"-\" && e[t + 2] === \">\") {\n        t += 2;\n        break;\n      }\n  } else if (e.length > t + 8 && e[t + 1] === \"D\" && e[t + 2] === \"O\" && e[t + 3] === \"C\" && e[t + 4] === \"T\" && e[t + 5] === \"Y\" && e[t + 6] === \"P\" && e[t + 7] === \"E\") {\n    let r = 1;\n    for (t += 8; t < e.length; t++)\n      if (e[t] === \"<\")\n        r++;\n      else if (e[t] === \">\" && (r--, r === 0))\n        break;\n  } else if (e.length > t + 9 && e[t + 1] === \"[\" && e[t + 2] === \"C\" && e[t + 3] === \"D\" && e[t + 4] === \"A\" && e[t + 5] === \"T\" && e[t + 6] === \"A\" && e[t + 7] === \"[\") {\n    for (t += 8; t < e.length; t++)\n      if (e[t] === \"]\" && e[t + 1] === \"]\" && e[t + 2] === \">\") {\n        t += 2;\n        break;\n      }\n  }\n  return t;\n}\nconst Ce = '\"', Pe = \"'\";\nfunction xe(e, t) {\n  let r = \"\", s = \"\", n = !1;\n  for (; t < e.length; t++) {\n    if (e[t] === Ce || e[t] === Pe)\n      s === \"\" ? s = e[t] : s !== e[t] || (s = \"\");\n    else if (e[t] === \">\" && s === \"\") {\n      n = !0;\n      break;\n    }\n    r += e[t];\n  }\n  return s !== \"\" ? !1 : {\n    value: r,\n    index: t,\n    tagClosed: n\n  };\n}\nconst $e = new RegExp(`(\\\\s*)([^\\\\s=]+)(\\\\s*=)?(\\\\s*(['\"])(([\\\\s\\\\S])*?)\\\\5)?`, \"g\");\nfunction H(e, t) {\n  const r = M.getAllMatches(e, $e), s = {};\n  for (let n = 0; n < r.length; n++) {\n    if (r[n][1].length === 0)\n      return p(\"InvalidAttr\", \"Attribute '\" + r[n][2] + \"' has no space in starting.\", v(r[n]));\n    if (r[n][3] !== void 0 && r[n][4] === void 0)\n      return p(\"InvalidAttr\", \"Attribute '\" + r[n][2] + \"' is without value.\", v(r[n]));\n    if (r[n][3] === void 0 && !t.allowBooleanAttributes)\n      return p(\"InvalidAttr\", \"boolean attribute '\" + r[n][2] + \"' is not allowed.\", v(r[n]));\n    const i = r[n][2];\n    if (!Le(i))\n      return p(\"InvalidAttr\", \"Attribute '\" + i + \"' is an invalid name.\", v(r[n]));\n    if (!s.hasOwnProperty(i))\n      s[i] = 1;\n    else\n      return p(\"InvalidAttr\", \"Attribute '\" + i + \"' is repeated.\", v(r[n]));\n  }\n  return !0;\n}\nfunction Fe(e, t) {\n  let r = /\\d/;\n  for (e[t] === \"x\" && (t++, r = /[\\da-fA-F]/); t < e.length; t++) {\n    if (e[t] === \";\")\n      return t;\n    if (!e[t].match(r))\n      break;\n  }\n  return -1;\n}\nfunction Ve(e, t) {\n  if (t++, e[t] === \";\")\n    return -1;\n  if (e[t] === \"#\")\n    return t++, Fe(e, t);\n  let r = 0;\n  for (; t < e.length; t++, r++)\n    if (!(e[t].match(/\\w/) && r < 20)) {\n      if (e[t] === \";\")\n        break;\n      return -1;\n    }\n  return t;\n}\nfunction p(e, t, r) {\n  return {\n    err: {\n      code: e,\n      msg: t,\n      line: r.line || r,\n      col: r.col\n    }\n  };\n}\nfunction Le(e) {\n  return M.isName(e);\n}\nfunction Re(e) {\n  return M.isName(e);\n}\nfunction w(e, t) {\n  const r = e.substring(0, t).split(/\\r?\\n/);\n  return {\n    line: r.length,\n    // column number is last line's length + 1, because column numbering starts at 1:\n    col: r[r.length - 1].length + 1\n  };\n}\nfunction v(e) {\n  return e.startIndex + e[1].length;\n}\nvar B = {};\nconst re = {\n  preserveOrder: !1,\n  attributeNamePrefix: \"@_\",\n  attributesGroupName: !1,\n  textNodeName: \"#text\",\n  ignoreAttributes: !0,\n  removeNSPrefix: !1,\n  // remove NS from tag name or attribute name if true\n  allowBooleanAttributes: !1,\n  //a tag can have attributes without any value\n  //ignoreRootElement : false,\n  parseTagValue: !0,\n  parseAttributeValue: !1,\n  trimValues: !0,\n  //Trim string values of tag and attributes\n  cdataPropName: !1,\n  numberParseOptions: {\n    hex: !0,\n    leadingZeros: !0,\n    eNotation: !0\n  },\n  tagValueProcessor: function(e, t) {\n    return t;\n  },\n  attributeValueProcessor: function(e, t) {\n    return t;\n  },\n  stopNodes: [],\n  //nested tags will not be parsed even for errors\n  alwaysCreateTextNode: !1,\n  isArray: () => !1,\n  commentPropName: !1,\n  unpairedTags: [],\n  processEntities: !0,\n  htmlEntities: !1,\n  ignoreDeclaration: !1,\n  ignorePiTags: !1,\n  transformTagName: !1,\n  transformAttributeName: !1,\n  updateTag: function(e, t, r) {\n    return e;\n  }\n  // skipEmptyListItem: false\n}, Se = function(e) {\n  return Object.assign({}, re, e);\n};\nB.buildOptions = Se;\nB.defaultOptions = re;\nclass Me {\n  constructor(t) {\n    this.tagname = t, this.child = [], this[\":@\"] = {};\n  }\n  add(t, r) {\n    t === \"__proto__\" && (t = \"#__proto__\"), this.child.push({ [t]: r });\n  }\n  addChild(t) {\n    t.tagname === \"__proto__\" && (t.tagname = \"#__proto__\"), t[\":@\"] && Object.keys(t[\":@\"]).length > 0 ? this.child.push({ [t.tagname]: t.child, \":@\": t[\":@\"] }) : this.child.push({ [t.tagname]: t.child });\n  }\n}\nvar Be = Me;\nconst ke = O;\nfunction qe(e, t) {\n  const r = {};\n  if (e[t + 3] === \"O\" && e[t + 4] === \"C\" && e[t + 5] === \"T\" && e[t + 6] === \"Y\" && e[t + 7] === \"P\" && e[t + 8] === \"E\") {\n    t = t + 9;\n    let s = 1, n = !1, i = !1, d = \"\";\n    for (; t < e.length; t++)\n      if (e[t] === \"<\" && !i) {\n        if (n && Ge(e, t))\n          t += 7, [entityName, val, t] = Xe(e, t + 1), val.indexOf(\"&\") === -1 && (r[We(entityName)] = {\n            regx: RegExp(`&${entityName};`, \"g\"),\n            val\n          });\n        else if (n && ze(e, t))\n          t += 8;\n        else if (n && He(e, t))\n          t += 8;\n        else if (n && Ke(e, t))\n          t += 9;\n        else if (Ue)\n          i = !0;\n        else\n          throw new Error(\"Invalid DOCTYPE\");\n        s++, d = \"\";\n      } else if (e[t] === \">\") {\n        if (i ? e[t - 1] === \"-\" && e[t - 2] === \"-\" && (i = !1, s--) : s--, s === 0)\n          break;\n      } else\n        e[t] === \"[\" ? n = !0 : d += e[t];\n    if (s !== 0)\n      throw new Error(\"Unclosed DOCTYPE\");\n  } else\n    throw new Error(\"Invalid Tag instead of DOCTYPE\");\n  return { entities: r, i: t };\n}\nfunction Xe(e, t) {\n  let r = \"\";\n  for (; t < e.length && e[t] !== \"'\" && e[t] !== '\"'; t++)\n    r += e[t];\n  if (r = r.trim(), r.indexOf(\" \") !== -1)\n    throw new Error(\"External entites are not supported\");\n  const s = e[t++];\n  let n = \"\";\n  for (; t < e.length && e[t] !== s; t++)\n    n += e[t];\n  return [r, n, t];\n}\nfunction Ue(e, t) {\n  return e[t + 1] === \"!\" && e[t + 2] === \"-\" && e[t + 3] === \"-\";\n}\nfunction Ge(e, t) {\n  return e[t + 1] === \"!\" && e[t + 2] === \"E\" && e[t + 3] === \"N\" && e[t + 4] === \"T\" && e[t + 5] === \"I\" && e[t + 6] === \"T\" && e[t + 7] === \"Y\";\n}\nfunction ze(e, t) {\n  return e[t + 1] === \"!\" && e[t + 2] === \"E\" && e[t + 3] === \"L\" && e[t + 4] === \"E\" && e[t + 5] === \"M\" && e[t + 6] === \"E\" && e[t + 7] === \"N\" && e[t + 8] === \"T\";\n}\nfunction He(e, t) {\n  return e[t + 1] === \"!\" && e[t + 2] === \"A\" && e[t + 3] === \"T\" && e[t + 4] === \"T\" && e[t + 5] === \"L\" && e[t + 6] === \"I\" && e[t + 7] === \"S\" && e[t + 8] === \"T\";\n}\nfunction Ke(e, t) {\n  return e[t + 1] === \"!\" && e[t + 2] === \"N\" && e[t + 3] === \"O\" && e[t + 4] === \"T\" && e[t + 5] === \"A\" && e[t + 6] === \"T\" && e[t + 7] === \"I\" && e[t + 8] === \"O\" && e[t + 9] === \"N\";\n}\nfunction We(e) {\n  if (ke.isName(e))\n    return e;\n  throw new Error(`Invalid entity name ${e}`);\n}\nvar Ze = qe;\nconst je = /^[-+]?0x[a-fA-F0-9]+$/, Ye = /^([\\-\\+])?(0*)(\\.[0-9]+([eE]\\-?[0-9]+)?|[0-9]+(\\.[0-9]+([eE]\\-?[0-9]+)?)?)$/;\n!Number.parseInt && window.parseInt && (Number.parseInt = window.parseInt);\n!Number.parseFloat && window.parseFloat && (Number.parseFloat = window.parseFloat);\nconst Je = {\n  hex: !0,\n  leadingZeros: !0,\n  decimalPoint: \".\",\n  eNotation: !0\n  //skipLike: /regex/\n};\nfunction Qe(e, t = {}) {\n  if (t = Object.assign({}, Je, t), !e || typeof e != \"string\")\n    return e;\n  let r = e.trim();\n  if (t.skipLike !== void 0 && t.skipLike.test(r))\n    return e;\n  if (t.hex && je.test(r))\n    return Number.parseInt(r, 16);\n  {\n    const s = Ye.exec(r);\n    if (s) {\n      const n = s[1], i = s[2];\n      let d = De(s[3]);\n      const u = s[4] || s[6];\n      if (!t.leadingZeros && i.length > 0 && n && r[2] !== \".\")\n        return e;\n      if (!t.leadingZeros && i.length > 0 && !n && r[1] !== \".\")\n        return e;\n      {\n        const o = Number(r), a = \"\" + o;\n        return a.search(/[eE]/) !== -1 || u ? t.eNotation ? o : e : r.indexOf(\".\") !== -1 ? a === \"0\" && d === \"\" || a === d || n && a === \"-\" + d ? o : e : i ? d === a || n + d === a ? o : e : r === a || r === n + a ? o : e;\n      }\n    } else\n      return e;\n  }\n}\nfunction De(e) {\n  return e && e.indexOf(\".\") !== -1 && (e = e.replace(/0+$/, \"\"), e === \".\" ? e = \"0\" : e[0] === \".\" ? e = \"0\" + e : e[e.length - 1] === \".\" && (e = e.substr(0, e.length - 1))), e;\n}\nvar et = Qe;\nconst k = O, T = Be, tt = Ze, rt = et;\n\"<((!\\\\[CDATA\\\\[([\\\\s\\\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\\\/)(NAME)\\\\s*>))([^<]*)\".replace(/NAME/g, k.nameRegexp);\nlet nt = class {\n  constructor(t) {\n    this.options = t, this.currentNode = null, this.tagsNodeStack = [], this.docTypeEntities = {}, this.lastEntities = {\n      apos: { regex: /&(apos|#39|#x27);/g, val: \"'\" },\n      gt: { regex: /&(gt|#62|#x3E);/g, val: \">\" },\n      lt: { regex: /&(lt|#60|#x3C);/g, val: \"<\" },\n      quot: { regex: /&(quot|#34|#x22);/g, val: '\"' }\n    }, this.ampEntity = { regex: /&(amp|#38|#x26);/g, val: \"&\" }, this.htmlEntities = {\n      space: { regex: /&(nbsp|#160);/g, val: \" \" },\n      // \"lt\" : { regex: /&(lt|#60);/g, val: \"<\" },\n      // \"gt\" : { regex: /&(gt|#62);/g, val: \">\" },\n      // \"amp\" : { regex: /&(amp|#38);/g, val: \"&\" },\n      // \"quot\" : { regex: /&(quot|#34);/g, val: \"\\\"\" },\n      // \"apos\" : { regex: /&(apos|#39);/g, val: \"'\" },\n      cent: { regex: /&(cent|#162);/g, val: \"¢\" },\n      pound: { regex: /&(pound|#163);/g, val: \"£\" },\n      yen: { regex: /&(yen|#165);/g, val: \"¥\" },\n      euro: { regex: /&(euro|#8364);/g, val: \"€\" },\n      copyright: { regex: /&(copy|#169);/g, val: \"©\" },\n      reg: { regex: /&(reg|#174);/g, val: \"®\" },\n      inr: { regex: /&(inr|#8377);/g, val: \"₹\" }\n    }, this.addExternalEntities = it, this.parseXml = at, this.parseTextData = st, this.resolveNameSpace = ot, this.buildAttributesMap = dt, this.isItStopNode = ht, this.replaceEntitiesValue = ft, this.readStopNodeData = gt, this.saveTextToParentTag = ct, this.addChild = lt;\n  }\n};\nfunction it(e) {\n  const t = Object.keys(e);\n  for (let r = 0; r < t.length; r++) {\n    const s = t[r];\n    this.lastEntities[s] = {\n      regex: new RegExp(\"&\" + s + \";\", \"g\"),\n      val: e[s]\n    };\n  }\n}\nfunction st(e, t, r, s, n, i, d) {\n  if (e !== void 0 && (this.options.trimValues && !s && (e = e.trim()), e.length > 0)) {\n    d || (e = this.replaceEntitiesValue(e));\n    const u = this.options.tagValueProcessor(t, e, r, n, i);\n    return u == null ? e : typeof u != typeof e || u !== e ? u : this.options.trimValues ? $(e, this.options.parseTagValue, this.options.numberParseOptions) : e.trim() === e ? $(e, this.options.parseTagValue, this.options.numberParseOptions) : e;\n  }\n}\nfunction ot(e) {\n  if (this.options.removeNSPrefix) {\n    const t = e.split(\":\"), r = e.charAt(0) === \"/\" ? \"/\" : \"\";\n    if (t[0] === \"xmlns\")\n      return \"\";\n    t.length === 2 && (e = r + t[1]);\n  }\n  return e;\n}\nconst ut = new RegExp(`([^\\\\s=]+)\\\\s*(=\\\\s*(['\"])([\\\\s\\\\S]*?)\\\\3)?`, \"gm\");\nfunction dt(e, t, r) {\n  if (!this.options.ignoreAttributes && typeof e == \"string\") {\n    const s = k.getAllMatches(e, ut), n = s.length, i = {};\n    for (let d = 0; d < n; d++) {\n      const u = this.resolveNameSpace(s[d][1]);\n      let o = s[d][4], a = this.options.attributeNamePrefix + u;\n      if (u.length)\n        if (this.options.transformAttributeName && (a = this.options.transformAttributeName(a)), a === \"__proto__\" && (a = \"#__proto__\"), o !== void 0) {\n          this.options.trimValues && (o = o.trim()), o = this.replaceEntitiesValue(o);\n          const l = this.options.attributeValueProcessor(u, o, t);\n          l == null ? i[a] = o : typeof l != typeof o || l !== o ? i[a] = l : i[a] = $(\n            o,\n            this.options.parseAttributeValue,\n            this.options.numberParseOptions\n          );\n        } else\n          this.options.allowBooleanAttributes && (i[a] = !0);\n    }\n    if (!Object.keys(i).length)\n      return;\n    if (this.options.attributesGroupName) {\n      const d = {};\n      return d[this.options.attributesGroupName] = i, d;\n    }\n    return i;\n  }\n}\nconst at = function(e) {\n  e = e.replace(/\\r\\n?/g, `\n`);\n  const t = new T(\"!xml\");\n  let r = t, s = \"\", n = \"\";\n  for (let i = 0; i < e.length; i++)\n    if (e[i] === \"<\")\n      if (e[i + 1] === \"/\") {\n        const u = y(e, \">\", i, \"Closing Tag is not closed.\");\n        let o = e.substring(i + 2, u).trim();\n        if (this.options.removeNSPrefix) {\n          const f = o.indexOf(\":\");\n          f !== -1 && (o = o.substr(f + 1));\n        }\n        this.options.transformTagName && (o = this.options.transformTagName(o)), r && (s = this.saveTextToParentTag(s, r, n));\n        const a = n.substring(n.lastIndexOf(\".\") + 1);\n        if (o && this.options.unpairedTags.indexOf(o) !== -1)\n          throw new Error(`Unpaired tag can not be used as closing tag: </${o}>`);\n        let l = 0;\n        a && this.options.unpairedTags.indexOf(a) !== -1 ? (l = n.lastIndexOf(\".\", n.lastIndexOf(\".\") - 1), this.tagsNodeStack.pop()) : l = n.lastIndexOf(\".\"), n = n.substring(0, l), r = this.tagsNodeStack.pop(), s = \"\", i = u;\n      } else if (e[i + 1] === \"?\") {\n        let u = x(e, i, !1, \"?>\");\n        if (!u)\n          throw new Error(\"Pi Tag is not closed.\");\n        if (s = this.saveTextToParentTag(s, r, n), !(this.options.ignoreDeclaration && u.tagName === \"?xml\" || this.options.ignorePiTags)) {\n          const o = new T(u.tagName);\n          o.add(this.options.textNodeName, \"\"), u.tagName !== u.tagExp && u.attrExpPresent && (o[\":@\"] = this.buildAttributesMap(u.tagExp, n, u.tagName)), this.addChild(r, o, n);\n        }\n        i = u.closeIndex + 1;\n      } else if (e.substr(i + 1, 3) === \"!--\") {\n        const u = y(e, \"-->\", i + 4, \"Comment is not closed.\");\n        if (this.options.commentPropName) {\n          const o = e.substring(i + 4, u - 2);\n          s = this.saveTextToParentTag(s, r, n), r.add(this.options.commentPropName, [{ [this.options.textNodeName]: o }]);\n        }\n        i = u;\n      } else if (e.substr(i + 1, 2) === \"!D\") {\n        const u = tt(e, i);\n        this.docTypeEntities = u.entities, i = u.i;\n      } else if (e.substr(i + 1, 2) === \"![\") {\n        const u = y(e, \"]]>\", i, \"CDATA is not closed.\") - 2, o = e.substring(i + 9, u);\n        if (s = this.saveTextToParentTag(s, r, n), this.options.cdataPropName)\n          r.add(this.options.cdataPropName, [{ [this.options.textNodeName]: o }]);\n        else {\n          let a = this.parseTextData(o, r.tagname, n, !0, !1, !0);\n          a == null && (a = \"\"), r.add(this.options.textNodeName, a);\n        }\n        i = u + 2;\n      } else {\n        let u = x(e, i, this.options.removeNSPrefix), o = u.tagName;\n        const a = u.rawTagName;\n        let l = u.tagExp, f = u.attrExpPresent, c = u.closeIndex;\n        this.options.transformTagName && (o = this.options.transformTagName(o)), r && s && r.tagname !== \"!xml\" && (s = this.saveTextToParentTag(s, r, n, !1));\n        const g = r;\n        if (g && this.options.unpairedTags.indexOf(g.tagname) !== -1 && (r = this.tagsNodeStack.pop(), n = n.substring(0, n.lastIndexOf(\".\"))), o !== t.tagname && (n += n ? \".\" + o : o), this.isItStopNode(this.options.stopNodes, n, o)) {\n          let h = \"\";\n          if (l.length > 0 && l.lastIndexOf(\"/\") === l.length - 1)\n            i = u.closeIndex;\n          else if (this.options.unpairedTags.indexOf(o) !== -1)\n            i = u.closeIndex;\n          else {\n            const E = this.readStopNodeData(e, a, c + 1);\n            if (!E)\n              throw new Error(`Unexpected end of ${a}`);\n            i = E.i, h = E.tagContent;\n          }\n          const _ = new T(o);\n          o !== l && f && (_[\":@\"] = this.buildAttributesMap(l, n, o)), h && (h = this.parseTextData(h, o, n, !0, f, !0, !0)), n = n.substr(0, n.lastIndexOf(\".\")), _.add(this.options.textNodeName, h), this.addChild(r, _, n);\n        } else {\n          if (l.length > 0 && l.lastIndexOf(\"/\") === l.length - 1) {\n            o[o.length - 1] === \"/\" ? (o = o.substr(0, o.length - 1), n = n.substr(0, n.length - 1), l = o) : l = l.substr(0, l.length - 1), this.options.transformTagName && (o = this.options.transformTagName(o));\n            const h = new T(o);\n            o !== l && f && (h[\":@\"] = this.buildAttributesMap(l, n, o)), this.addChild(r, h, n), n = n.substr(0, n.lastIndexOf(\".\"));\n          } else {\n            const h = new T(o);\n            this.tagsNodeStack.push(r), o !== l && f && (h[\":@\"] = this.buildAttributesMap(l, n, o)), this.addChild(r, h, n), r = h;\n          }\n          s = \"\", i = c;\n        }\n      }\n    else\n      s += e[i];\n  return t.child;\n};\nfunction lt(e, t, r) {\n  const s = this.options.updateTag(t.tagname, r, t[\":@\"]);\n  s === !1 || (typeof s == \"string\" && (t.tagname = s), e.addChild(t));\n}\nconst ft = function(e) {\n  if (this.options.processEntities) {\n    for (let t in this.docTypeEntities) {\n      const r = this.docTypeEntities[t];\n      e = e.replace(r.regx, r.val);\n    }\n    for (let t in this.lastEntities) {\n      const r = this.lastEntities[t];\n      e = e.replace(r.regex, r.val);\n    }\n    if (this.options.htmlEntities)\n      for (let t in this.htmlEntities) {\n        const r = this.htmlEntities[t];\n        e = e.replace(r.regex, r.val);\n      }\n    e = e.replace(this.ampEntity.regex, this.ampEntity.val);\n  }\n  return e;\n};\nfunction ct(e, t, r, s) {\n  return e && (s === void 0 && (s = Object.keys(t.child).length === 0), e = this.parseTextData(\n    e,\n    t.tagname,\n    r,\n    !1,\n    t[\":@\"] ? Object.keys(t[\":@\"]).length !== 0 : !1,\n    s\n  ), e !== void 0 && e !== \"\" && t.add(this.options.textNodeName, e), e = \"\"), e;\n}\nfunction ht(e, t, r) {\n  const s = \"*.\" + r;\n  for (const n in e) {\n    const i = e[n];\n    if (s === i || t === i)\n      return !0;\n  }\n  return !1;\n}\nfunction pt(e, t, r = \">\") {\n  let s, n = \"\";\n  for (let i = t; i < e.length; i++) {\n    let d = e[i];\n    if (s)\n      d === s && (s = \"\");\n    else if (d === '\"' || d === \"'\")\n      s = d;\n    else if (d === r[0])\n      if (r[1]) {\n        if (e[i + 1] === r[1])\n          return {\n            data: n,\n            index: i\n          };\n      } else\n        return {\n          data: n,\n          index: i\n        };\n    else\n      d === \"\t\" && (d = \" \");\n    n += d;\n  }\n}\nfunction y(e, t, r, s) {\n  const n = e.indexOf(t, r);\n  if (n === -1)\n    throw new Error(s);\n  return n + t.length - 1;\n}\nfunction x(e, t, r, s = \">\") {\n  const n = pt(e, t + 1, s);\n  if (!n)\n    return;\n  let i = n.data;\n  const d = n.index, u = i.search(/\\s/);\n  let o = i, a = !0;\n  u !== -1 && (o = i.substr(0, u).replace(/\\s\\s*$/, \"\"), i = i.substr(u + 1));\n  const l = o;\n  if (r) {\n    const f = o.indexOf(\":\");\n    f !== -1 && (o = o.substr(f + 1), a = o !== n.data.substr(f + 1));\n  }\n  return {\n    tagName: o,\n    tagExp: i,\n    closeIndex: d,\n    attrExpPresent: a,\n    rawTagName: l\n  };\n}\nfunction gt(e, t, r) {\n  const s = r;\n  let n = 1;\n  for (; r < e.length; r++)\n    if (e[r] === \"<\")\n      if (e[r + 1] === \"/\") {\n        const i = y(e, \">\", r, `${t} is not closed`);\n        if (e.substring(r + 2, i).trim() === t && (n--, n === 0))\n          return {\n            tagContent: e.substring(s, r),\n            i\n          };\n        r = i;\n      } else if (e[r + 1] === \"?\")\n        r = y(e, \"?>\", r + 1, \"StopNode is not closed.\");\n      else if (e.substr(r + 1, 3) === \"!--\")\n        r = y(e, \"-->\", r + 3, \"StopNode is not closed.\");\n      else if (e.substr(r + 1, 2) === \"![\")\n        r = y(e, \"]]>\", r, \"StopNode is not closed.\") - 2;\n      else {\n        const i = x(e, r, \">\");\n        i && ((i && i.tagName) === t && i.tagExp[i.tagExp.length - 1] !== \"/\" && n++, r = i.closeIndex);\n      }\n}\nfunction $(e, t, r) {\n  if (t && typeof e == \"string\") {\n    const s = e.trim();\n    return s === \"true\" ? !0 : s === \"false\" ? !1 : rt(e, r);\n  } else\n    return k.isExist(e) ? e : \"\";\n}\nvar wt = nt, ne = {};\nfunction mt(e, t) {\n  return ie(e, t);\n}\nfunction ie(e, t, r) {\n  let s;\n  const n = {};\n  for (let i = 0; i < e.length; i++) {\n    const d = e[i], u = Nt(d);\n    let o = \"\";\n    if (r === void 0 ? o = u : o = r + \".\" + u, u === t.textNodeName)\n      s === void 0 ? s = d[u] : s += \"\" + d[u];\n    else {\n      if (u === void 0)\n        continue;\n      if (d[u]) {\n        let a = ie(d[u], t, o);\n        const l = bt(a, t);\n        d[\":@\"] ? Et(a, d[\":@\"], o, t) : Object.keys(a).length === 1 && a[t.textNodeName] !== void 0 && !t.alwaysCreateTextNode ? a = a[t.textNodeName] : Object.keys(a).length === 0 && (t.alwaysCreateTextNode ? a[t.textNodeName] = \"\" : a = \"\"), n[u] !== void 0 && n.hasOwnProperty(u) ? (Array.isArray(n[u]) || (n[u] = [n[u]]), n[u].push(a)) : t.isArray(u, o, l) ? n[u] = [a] : n[u] = a;\n      }\n    }\n  }\n  return typeof s == \"string\" ? s.length > 0 && (n[t.textNodeName] = s) : s !== void 0 && (n[t.textNodeName] = s), n;\n}\nfunction Nt(e) {\n  const t = Object.keys(e);\n  for (let r = 0; r < t.length; r++) {\n    const s = t[r];\n    if (s !== \":@\")\n      return s;\n  }\n}\nfunction Et(e, t, r, s) {\n  if (t) {\n    const n = Object.keys(t), i = n.length;\n    for (let d = 0; d < i; d++) {\n      const u = n[d];\n      s.isArray(u, r + \".\" + u, !0, !0) ? e[u] = [t[u]] : e[u] = t[u];\n    }\n  }\n}\nfunction bt(e, t) {\n  const { textNodeName: r } = t, s = Object.keys(e).length;\n  return !!(s === 0 || s === 1 && (e[r] || typeof e[r] == \"boolean\" || e[r] === 0));\n}\nne.prettify = mt;\nconst { buildOptions: yt } = B, _t = wt, { prettify: vt } = ne, Tt = S;\nlet It = class {\n  constructor(t) {\n    this.externalEntities = {}, this.options = yt(t);\n  }\n  /**\n   * Parse XML dats to JS object \n   * @param {string|Buffer} xmlData \n   * @param {boolean|Object} validationOption \n   */\n  parse(t, r) {\n    if (typeof t != \"string\")\n      if (t.toString)\n        t = t.toString();\n      else\n        throw new Error(\"XML data is accepted in String or Bytes[] form.\");\n    if (r) {\n      r === !0 && (r = {});\n      const i = Tt.validate(t, r);\n      if (i !== !0)\n        throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`);\n    }\n    const s = new _t(this.options);\n    s.addExternalEntities(this.externalEntities);\n    const n = s.parseXml(t);\n    return this.options.preserveOrder || n === void 0 ? n : vt(n, this.options);\n  }\n  /**\n   * Add Entity which is not by default supported by this library\n   * @param {string} key \n   * @param {string} value \n   */\n  addEntity(t, r) {\n    if (r.indexOf(\"&\") !== -1)\n      throw new Error(\"Entity value can't have '&'\");\n    if (t.indexOf(\"&\") !== -1 || t.indexOf(\";\") !== -1)\n      throw new Error(\"An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'\");\n    if (r === \"&\")\n      throw new Error(\"An entity with value '&' is not permitted\");\n    this.externalEntities[t] = r;\n  }\n};\nvar At = It;\nconst Ot = `\n`;\nfunction Ct(e, t) {\n  let r = \"\";\n  return t.format && t.indentBy.length > 0 && (r = Ot), se(e, t, \"\", r);\n}\nfunction se(e, t, r, s) {\n  let n = \"\", i = !1;\n  for (let d = 0; d < e.length; d++) {\n    const u = e[d], o = Pt(u);\n    if (o === void 0)\n      continue;\n    let a = \"\";\n    if (r.length === 0 ? a = o : a = `${r}.${o}`, o === t.textNodeName) {\n      let h = u[o];\n      xt(a, t) || (h = t.tagValueProcessor(o, h), h = oe(h, t)), i && (n += s), n += h, i = !1;\n      continue;\n    } else if (o === t.cdataPropName) {\n      i && (n += s), n += `<![CDATA[${u[o][0][t.textNodeName]}]]>`, i = !1;\n      continue;\n    } else if (o === t.commentPropName) {\n      n += s + `<!--${u[o][0][t.textNodeName]}-->`, i = !0;\n      continue;\n    } else if (o[0] === \"?\") {\n      const h = K(u[\":@\"], t), _ = o === \"?xml\" ? \"\" : s;\n      let E = u[o][0][t.textNodeName];\n      E = E.length !== 0 ? \" \" + E : \"\", n += _ + `<${o}${E}${h}?>`, i = !0;\n      continue;\n    }\n    let l = s;\n    l !== \"\" && (l += t.indentBy);\n    const f = K(u[\":@\"], t), c = s + `<${o}${f}`, g = se(u[o], t, a, l);\n    t.unpairedTags.indexOf(o) !== -1 ? t.suppressUnpairedNode ? n += c + \">\" : n += c + \"/>\" : (!g || g.length === 0) && t.suppressEmptyNode ? n += c + \"/>\" : g && g.endsWith(\">\") ? n += c + `>${g}${s}</${o}>` : (n += c + \">\", g && s !== \"\" && (g.includes(\"/>\") || g.includes(\"</\")) ? n += s + t.indentBy + g + s : n += g, n += `</${o}>`), i = !0;\n  }\n  return n;\n}\nfunction Pt(e) {\n  const t = Object.keys(e);\n  for (let r = 0; r < t.length; r++) {\n    const s = t[r];\n    if (e.hasOwnProperty(s) && s !== \":@\")\n      return s;\n  }\n}\nfunction K(e, t) {\n  let r = \"\";\n  if (e && !t.ignoreAttributes)\n    for (let s in e) {\n      if (!e.hasOwnProperty(s))\n        continue;\n      let n = t.attributeValueProcessor(s, e[s]);\n      n = oe(n, t), n === !0 && t.suppressBooleanAttributes ? r += ` ${s.substr(t.attributeNamePrefix.length)}` : r += ` ${s.substr(t.attributeNamePrefix.length)}=\"${n}\"`;\n    }\n  return r;\n}\nfunction xt(e, t) {\n  e = e.substr(0, e.length - t.textNodeName.length - 1);\n  let r = e.substr(e.lastIndexOf(\".\") + 1);\n  for (let s in t.stopNodes)\n    if (t.stopNodes[s] === e || t.stopNodes[s] === \"*.\" + r)\n      return !0;\n  return !1;\n}\nfunction oe(e, t) {\n  if (e && e.length > 0 && t.processEntities)\n    for (let r = 0; r < t.entities.length; r++) {\n      const s = t.entities[r];\n      e = e.replace(s.regex, s.val);\n    }\n  return e;\n}\nvar $t = Ct;\nconst Ft = $t, Vt = {\n  attributeNamePrefix: \"@_\",\n  attributesGroupName: !1,\n  textNodeName: \"#text\",\n  ignoreAttributes: !0,\n  cdataPropName: !1,\n  format: !1,\n  indentBy: \"  \",\n  suppressEmptyNode: !1,\n  suppressUnpairedNode: !0,\n  suppressBooleanAttributes: !0,\n  tagValueProcessor: function(e, t) {\n    return t;\n  },\n  attributeValueProcessor: function(e, t) {\n    return t;\n  },\n  preserveOrder: !1,\n  commentPropName: !1,\n  unpairedTags: [],\n  entities: [\n    { regex: new RegExp(\"&\", \"g\"), val: \"&amp;\" },\n    //it must be on top\n    { regex: new RegExp(\">\", \"g\"), val: \"&gt;\" },\n    { regex: new RegExp(\"<\", \"g\"), val: \"&lt;\" },\n    { regex: new RegExp(\"'\", \"g\"), val: \"&apos;\" },\n    { regex: new RegExp('\"', \"g\"), val: \"&quot;\" }\n  ],\n  processEntities: !0,\n  stopNodes: [],\n  // transformTagName: false,\n  // transformAttributeName: false,\n  oneListGroup: !1\n};\nfunction b(e) {\n  this.options = Object.assign({}, Vt, e), this.options.ignoreAttributes || this.options.attributesGroupName ? this.isAttribute = function() {\n    return !1;\n  } : (this.attrPrefixLen = this.options.attributeNamePrefix.length, this.isAttribute = St), this.processTextOrObjNode = Lt, this.options.format ? (this.indentate = Rt, this.tagEndChar = `>\n`, this.newLine = `\n`) : (this.indentate = function() {\n    return \"\";\n  }, this.tagEndChar = \">\", this.newLine = \"\");\n}\nb.prototype.build = function(e) {\n  return this.options.preserveOrder ? Ft(e, this.options) : (Array.isArray(e) && this.options.arrayNodeName && this.options.arrayNodeName.length > 1 && (e = {\n    [this.options.arrayNodeName]: e\n  }), this.j2x(e, 0).val);\n};\nb.prototype.j2x = function(e, t) {\n  let r = \"\", s = \"\";\n  for (let n in e)\n    if (Object.prototype.hasOwnProperty.call(e, n))\n      if (typeof e[n] > \"u\")\n        this.isAttribute(n) && (s += \"\");\n      else if (e[n] === null)\n        this.isAttribute(n) ? s += \"\" : n[0] === \"?\" ? s += this.indentate(t) + \"<\" + n + \"?\" + this.tagEndChar : s += this.indentate(t) + \"<\" + n + \"/\" + this.tagEndChar;\n      else if (e[n] instanceof Date)\n        s += this.buildTextValNode(e[n], n, \"\", t);\n      else if (typeof e[n] != \"object\") {\n        const i = this.isAttribute(n);\n        if (i)\n          r += this.buildAttrPairStr(i, \"\" + e[n]);\n        else if (n === this.options.textNodeName) {\n          let d = this.options.tagValueProcessor(n, \"\" + e[n]);\n          s += this.replaceEntitiesValue(d);\n        } else\n          s += this.buildTextValNode(e[n], n, \"\", t);\n      } else if (Array.isArray(e[n])) {\n        const i = e[n].length;\n        let d = \"\";\n        for (let u = 0; u < i; u++) {\n          const o = e[n][u];\n          typeof o > \"u\" || (o === null ? n[0] === \"?\" ? s += this.indentate(t) + \"<\" + n + \"?\" + this.tagEndChar : s += this.indentate(t) + \"<\" + n + \"/\" + this.tagEndChar : typeof o == \"object\" ? this.options.oneListGroup ? d += this.j2x(o, t + 1).val : d += this.processTextOrObjNode(o, n, t) : d += this.buildTextValNode(o, n, \"\", t));\n        }\n        this.options.oneListGroup && (d = this.buildObjectNode(d, n, \"\", t)), s += d;\n      } else if (this.options.attributesGroupName && n === this.options.attributesGroupName) {\n        const i = Object.keys(e[n]), d = i.length;\n        for (let u = 0; u < d; u++)\n          r += this.buildAttrPairStr(i[u], \"\" + e[n][i[u]]);\n      } else\n        s += this.processTextOrObjNode(e[n], n, t);\n  return { attrStr: r, val: s };\n};\nb.prototype.buildAttrPairStr = function(e, t) {\n  return t = this.options.attributeValueProcessor(e, \"\" + t), t = this.replaceEntitiesValue(t), this.options.suppressBooleanAttributes && t === \"true\" ? \" \" + e : \" \" + e + '=\"' + t + '\"';\n};\nfunction Lt(e, t, r) {\n  const s = this.j2x(e, r + 1);\n  return e[this.options.textNodeName] !== void 0 && Object.keys(e).length === 1 ? this.buildTextValNode(e[this.options.textNodeName], t, s.attrStr, r) : this.buildObjectNode(s.val, t, s.attrStr, r);\n}\nb.prototype.buildObjectNode = function(e, t, r, s) {\n  if (e === \"\")\n    return t[0] === \"?\" ? this.indentate(s) + \"<\" + t + r + \"?\" + this.tagEndChar : this.indentate(s) + \"<\" + t + r + this.closeTag(t) + this.tagEndChar;\n  {\n    let n = \"</\" + t + this.tagEndChar, i = \"\";\n    return t[0] === \"?\" && (i = \"?\", n = \"\"), (r || r === \"\") && e.indexOf(\"<\") === -1 ? this.indentate(s) + \"<\" + t + r + i + \">\" + e + n : this.options.commentPropName !== !1 && t === this.options.commentPropName && i.length === 0 ? this.indentate(s) + `<!--${e}-->` + this.newLine : this.indentate(s) + \"<\" + t + r + i + this.tagEndChar + e + this.indentate(s) + n;\n  }\n};\nb.prototype.closeTag = function(e) {\n  let t = \"\";\n  return this.options.unpairedTags.indexOf(e) !== -1 ? this.options.suppressUnpairedNode || (t = \"/\") : this.options.suppressEmptyNode ? t = \"/\" : t = `></${e}`, t;\n};\nb.prototype.buildTextValNode = function(e, t, r, s) {\n  if (this.options.cdataPropName !== !1 && t === this.options.cdataPropName)\n    return this.indentate(s) + `<![CDATA[${e}]]>` + this.newLine;\n  if (this.options.commentPropName !== !1 && t === this.options.commentPropName)\n    return this.indentate(s) + `<!--${e}-->` + this.newLine;\n  if (t[0] === \"?\")\n    return this.indentate(s) + \"<\" + t + r + \"?\" + this.tagEndChar;\n  {\n    let n = this.options.tagValueProcessor(t, e);\n    return n = this.replaceEntitiesValue(n), n === \"\" ? this.indentate(s) + \"<\" + t + r + this.closeTag(t) + this.tagEndChar : this.indentate(s) + \"<\" + t + r + \">\" + n + \"</\" + t + this.tagEndChar;\n  }\n};\nb.prototype.replaceEntitiesValue = function(e) {\n  if (e && e.length > 0 && this.options.processEntities)\n    for (let t = 0; t < this.options.entities.length; t++) {\n      const r = this.options.entities[t];\n      e = e.replace(r.regex, r.val);\n    }\n  return e;\n};\nfunction Rt(e) {\n  return this.options.indentBy.repeat(e);\n}\nfunction St(e) {\n  return e.startsWith(this.options.attributeNamePrefix) && e !== this.options.textNodeName ? e.substr(this.attrPrefixLen) : !1;\n}\nvar Mt = b;\nconst Bt = S, kt = At, qt = Mt;\nvar W = {\n  XMLParser: kt,\n  XMLValidator: Bt,\n  XMLBuilder: qt\n};\nfunction Xt(e) {\n  if (typeof e != \"string\")\n    throw new TypeError(`Expected a \\`string\\`, got \\`${typeof e}\\``);\n  if (e = e.trim(), e.length === 0 || W.XMLValidator.validate(e) !== !0)\n    return !1;\n  let t;\n  const r = new W.XMLParser();\n  try {\n    t = r.parse(e);\n  } catch {\n    return !1;\n  }\n  return !(!t || !(\"svg\" in t));\n}\n/**\n * @copyright Copyright (c) 2022 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nclass cr {\n  _view;\n  constructor(t) {\n    Ut(t), this._view = t;\n  }\n  get id() {\n    return this._view.id;\n  }\n  get name() {\n    return this._view.name;\n  }\n  get caption() {\n    return this._view.caption;\n  }\n  get emptyTitle() {\n    return this._view.emptyTitle;\n  }\n  get emptyCaption() {\n    return this._view.emptyCaption;\n  }\n  get getContents() {\n    return this._view.getContents;\n  }\n  get icon() {\n    return this._view.icon;\n  }\n  set icon(t) {\n    this._view.icon = t;\n  }\n  get order() {\n    return this._view.order;\n  }\n  set order(t) {\n    this._view.order = t;\n  }\n  get params() {\n    return this._view.params;\n  }\n  set params(t) {\n    this._view.params = t;\n  }\n  get columns() {\n    return this._view.columns;\n  }\n  get emptyView() {\n    return this._view.emptyView;\n  }\n  get parent() {\n    return this._view.parent;\n  }\n  get sticky() {\n    return this._view.sticky;\n  }\n  get expanded() {\n    return this._view.expanded;\n  }\n  set expanded(t) {\n    this._view.expanded = t;\n  }\n  get defaultSortKey() {\n    return this._view.defaultSortKey;\n  }\n}\nconst Ut = function(e) {\n  if (!e.id || typeof e.id != \"string\")\n    throw new Error(\"View id is required and must be a string\");\n  if (!e.name || typeof e.name != \"string\")\n    throw new Error(\"View name is required and must be a string\");\n  if (e.columns && e.columns.length > 0 && (!e.caption || typeof e.caption != \"string\"))\n    throw new Error(\"View caption is required for top-level views and must be a string\");\n  if (!e.getContents || typeof e.getContents != \"function\")\n    throw new Error(\"View getContents is required and must be a function\");\n  if (!e.icon || typeof e.icon != \"string\" || !Xt(e.icon))\n    throw new Error(\"View icon is required and must be a valid svg string\");\n  if (!(\"order\" in e) || typeof e.order != \"number\")\n    throw new Error(\"View order is required and must be a number\");\n  if (e.columns && e.columns.forEach((t) => {\n    if (!(t instanceof Ie))\n      throw new Error(\"View columns must be an array of Column. Invalid column found\");\n  }), e.emptyView && typeof e.emptyView != \"function\")\n    throw new Error(\"View emptyView must be a function\");\n  if (e.parent && typeof e.parent != \"string\")\n    throw new Error(\"View parent must be a string\");\n  if (\"sticky\" in e && typeof e.sticky != \"boolean\")\n    throw new Error(\"View sticky must be a boolean\");\n  if (\"expanded\" in e && typeof e.expanded != \"boolean\")\n    throw new Error(\"View expanded must be a boolean\");\n  if (e.defaultSortKey && typeof e.defaultSortKey != \"string\")\n    throw new Error(\"View defaultSortKey must be a string\");\n  return !0;\n};\n/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst hr = function(e) {\n  return F().registerEntry(e);\n}, pr = function(e) {\n  return F().unregisterEntry(e);\n}, gr = function(e) {\n  return F().getEntries(e).sort((r, s) => r.order !== void 0 && s.order !== void 0 && r.order !== s.order ? r.order - s.order : r.displayName.localeCompare(s.displayName, void 0, { numeric: !0, sensitivity: \"base\" }));\n};\nexport {\n  Ie as Column,\n  Z as DefaultType,\n  ye as File,\n  Qt as FileAction,\n  R as FileType,\n  _e as Folder,\n  tr as Header,\n  Te as Navigation,\n  D as Node,\n  Q as NodeStatus,\n  N as Permission,\n  cr as View,\n  hr as addNewFileMenuEntry,\n  ur as davGetClient,\n  sr as davGetDefaultPropfind,\n  Ee as davGetFavoritesReport,\n  or as davGetRecentSearch,\n  be as davParsePermissions,\n  te as davRemoteURL,\n  ve as davResultToNode,\n  ee as davRootPath,\n  Y as defaultDavNamespaces,\n  j as defaultDavProperties,\n  Yt as formatFileSize,\n  L as getDavNameSpaces,\n  V as getDavProperties,\n  dr as getFavoriteNodes,\n  er as getFileActions,\n  nr as getFileListHeaders,\n  ar as getNavigation,\n  gr as getNewFileMenuEntries,\n  Jt as parseFileSize,\n  ir as registerDavProperty,\n  Dt as registerFileAction,\n  rr as registerFileListHeaders,\n  pr as removeNewFileMenuEntry\n};\n","import { defineComponent as F, ref as v, watchEffect as W, toRef as U, computed as m, watch as O, onMounted as Z, onUnmounted as J, nextTick as Q } from \"vue\";\nimport { n as p, D as X } from \"./DialogBase-2d1c3e06.mjs\";\nimport { FileType as $, formatFileSize as Y, davGetClient as ee, davRootPath as z, davResultToNode as P, davGetFavoritesReport as te, davGetRecentSearch as ie, davGetDefaultPropfind as ne } from \"@nextcloud/files\";\nimport { getCanonicalLocale as D } from \"@nextcloud/l10n\";\nimport { NcCheckboxRadioSwitch as j, NcButton as G, NcActions as le, NcActionInput as se, NcBreadcrumbs as re, NcBreadcrumb as ae, NcSelect as oe, NcTextField as ce, NcEmptyContent as ue } from \"@nextcloud/vue\";\nimport { join as q } from \"path\";\nimport { t as d } from \"./index-69148435.mjs\";\nimport { generateUrl as de, generateRemoteUrl as _e } from \"@nextcloud/router\";\nimport { toValue as E } from \"@vueuse/core\";\nimport { Fragment as fe } from \"vue-frag\";\nimport { i as pe } from \"./toast-c61fd8a5.mjs\";\nconst me = {\n  name: \"FileIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar ve = function() {\n  var e = this, t = e._self._c;\n  return t(\"span\", e._b({ staticClass: \"material-design-icon file-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(i) {\n    return e.$emit(\"click\", i);\n  } } }, \"span\", e.$attrs, !1), [t(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [t(\"path\", { attrs: { d: \"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z\" } }, [e.title ? t(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, he = [], ge = /* @__PURE__ */ p(\n  me,\n  ve,\n  he,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst K = ge.exports, ye = {\n  name: \"MenuUpIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar we = function() {\n  var e = this, t = e._self._c;\n  return t(\"span\", e._b({ staticClass: \"material-design-icon menu-up-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(i) {\n    return e.$emit(\"click\", i);\n  } } }, \"span\", e.$attrs, !1), [t(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [t(\"path\", { attrs: { d: \"M7,15L12,10L17,15H7Z\" } }, [e.title ? t(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, ke = [], Ce = /* @__PURE__ */ p(\n  ye,\n  we,\n  ke,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst be = Ce.exports, Fe = {\n  name: \"MenuDownIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Se = function() {\n  var e = this, t = e._self._c;\n  return t(\"span\", e._b({ staticClass: \"material-design-icon menu-down-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(i) {\n    return e.$emit(\"click\", i);\n  } } }, \"span\", e.$attrs, !1), [t(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [t(\"path\", { attrs: { d: \"M7,10L12,15L17,10H7Z\" } }, [e.title ? t(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, $e = [], xe = /* @__PURE__ */ p(\n  Fe,\n  Se,\n  $e,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Ne = xe.exports, Le = {\n  \"file-picker__file-icon\": \"_file-picker__file-icon_1vgv4_5\"\n}, Pe = /* @__PURE__ */ F({\n  __name: \"LoadingTableRow\",\n  props: {\n    showCheckbox: { type: Boolean }\n  },\n  setup(l) {\n    return { __sfc: !0, fileListIconStyles: Le };\n  }\n});\nvar ze = function() {\n  var e = this, t = e._self._c, i = e._self._setupProxy;\n  return t(\"tr\", { staticClass: \"file-picker__row loading-row\", attrs: { \"aria-hidden\": \"true\" } }, [e.showCheckbox ? t(\"td\", { staticClass: \"row-checkbox\" }, [t(\"span\")]) : e._e(), t(\"td\", { staticClass: \"row-name\" }, [t(\"div\", { staticClass: \"row-wrapper\" }, [t(\"span\", { class: i.fileListIconStyles[\"file-picker__file-icon\"] }), t(\"span\")])]), e._m(0), e._m(1)]);\n}, Be = [function() {\n  var l = this, e = l._self._c;\n  return l._self._setupProxy, e(\"td\", { staticClass: \"row-size\" }, [e(\"span\")]);\n}, function() {\n  var l = this, e = l._self._c;\n  return l._self._setupProxy, e(\"td\", { staticClass: \"row-modified\" }, [e(\"span\")]);\n}], Ie = /* @__PURE__ */ p(\n  Pe,\n  ze,\n  Be,\n  !1,\n  null,\n  \"6aded0d9\",\n  null,\n  null\n);\nconst Re = Ie.exports;\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nfunction Me(l, e = {}) {\n  var t;\n  e = { size: 32, cropPreview: !1, mimeFallback: !0, ...e };\n  try {\n    const i = ((t = l.attributes) == null ? void 0 : t.previewUrl) || de(\"/core/preview?fileId={fileid}\", {\n      fileid: l.fileid\n    });\n    let n;\n    try {\n      n = new URL(i);\n    } catch {\n      n = new URL(i, window.location.origin);\n    }\n    return n.searchParams.set(\"x\", \"\".concat(e.size)), n.searchParams.set(\"y\", \"\".concat(e.size)), n.searchParams.set(\"mimeFallback\", \"\".concat(e.mimeFallback)), n.searchParams.set(\"c\", \"\".concat(l.attributes.etag)), n.searchParams.set(\"a\", e.cropPreview === !0 ? \"0\" : \"1\"), n;\n  } catch {\n    return null;\n  }\n}\nconst De = (l, e) => {\n  const t = v(null);\n  return W(() => {\n    t.value = Me(E(l), E(e || {}));\n  }), {\n    previewURL: t\n  };\n}, Ve = {\n  name: \"FolderIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Te = function() {\n  var e = this, t = e._self._c;\n  return t(\"span\", e._b({ staticClass: \"material-design-icon folder-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(i) {\n    return e.$emit(\"click\", i);\n  } } }, \"span\", e.$attrs, !1), [t(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [t(\"path\", { attrs: { d: \"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z\" } }, [e.title ? t(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, He = [], Ae = /* @__PURE__ */ p(\n  Ve,\n  Te,\n  He,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst V = Ae.exports, Ee = /* @__PURE__ */ F({\n  __name: \"FilePreview\",\n  props: {\n    node: null\n  },\n  setup(l) {\n    const e = l, { previewURL: t } = De(U(e, \"node\")), i = m(() => e.node.type === $.File), n = v(!1);\n    return O(t, () => {\n      if (n.value = !1, t.value) {\n        const s = document.createElement(\"img\");\n        s.src = t.value.href, s.onerror = () => s.remove(), s.onload = () => {\n          n.value = !0, s.remove();\n        }, document.body.appendChild(s);\n      }\n    }, { immediate: !0 }), { __sfc: !0, props: e, previewURL: t, isFile: i, canLoadPreview: n, t: d, IconFile: K, IconFolder: V };\n  }\n});\nvar Ue = function() {\n  var e = this, t = e._self._c, i = e._self._setupProxy;\n  return t(\"div\", { staticClass: \"file-picker__file-icon\", style: i.canLoadPreview ? { backgroundImage: \"url(\".concat(i.previewURL, \")\") } : void 0, attrs: { \"aria-label\": i.t(\"MIME type {mime}\", { mime: e.node.mime || i.t(\"unknown\") }) } }, [i.canLoadPreview ? e._e() : [i.isFile ? t(i.IconFile, { attrs: { size: 20 } }) : t(i.IconFolder, { attrs: { size: 20 } })]], 2);\n}, Oe = [], Ze = /* @__PURE__ */ p(\n  Ee,\n  Ue,\n  Oe,\n  !1,\n  null,\n  \"79e0cce3\",\n  null,\n  null\n);\nconst je = Ze.exports, Ge = {\n  long: d(\"a few seconds ago\"),\n  short: d(\"seconds ago\"),\n  // FOR TRANSLATORS: Shorter version of 'a few seconds ago'\n  narrow: d(\"sec. ago\")\n  // FOR TRANSLATORS: If possible in your language an even shorter version of 'a few seconds ago'\n}, qe = F({\n  name: \"NcDatetime\",\n  props: {\n    /**\n     * The timestamp to display, either an unix timestamp (in milliseconds) or a Date object\n     */\n    timestamp: {\n      type: [Date, Number],\n      required: !0\n    },\n    /**\n     * The format used for displaying, or if relative time is used the format used for the title (optional)\n     *\n     * @type {Intl.DateTimeFormatOptions}\n     */\n    format: {\n      type: Object,\n      default: () => ({ timeStyle: \"medium\", dateStyle: \"short\" })\n    },\n    /**\n     * Wether to display the timestamp as time from now (optional)\n     *\n     * - `false`: Disable relative time\n     * - `'long'`: Long text, like *2 seconds ago* (default)\n     * - `'short'`: Short text, like *2 sec. ago*\n     * - `'narrow'`: Even shorter text (same as `'short'` on some languages)\n     */\n    relativeTime: {\n      type: [Boolean, String],\n      default: \"long\",\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      validator: (l) => l === !1 || [\"long\", \"short\", \"narrow\"].includes(l)\n    },\n    /**\n     * Ignore seconds when displaying the relative time and just show `a few seconds ago`\n     */\n    ignoreSeconds: {\n      type: Boolean,\n      default: !1\n    }\n  },\n  data() {\n    return {\n      /** Current time in ms */\n      currentTime: Date.now(),\n      /** ID of the current time interval */\n      intervalId: void 0\n    };\n  },\n  computed: {\n    /** ECMA Date object of the timestamp */\n    dateObject() {\n      return new Date(this.timestamp);\n    },\n    /** Time string formatted for main text */\n    formattedTime() {\n      if (this.relativeTime !== !1) {\n        const l = new Intl.RelativeTimeFormat(D(), { numeric: \"auto\", style: this.relativeTime }), t = (this.dateObject.valueOf() - this.currentTime) / 1e3;\n        if (Math.abs(t) <= 90)\n          return this.ignoreSeconds ? Ge[this.relativeTime] : l.format(Math.round(t), \"second\");\n        const i = t / 60;\n        if (Math.abs(i) <= 90)\n          return l.format(Math.round(i), \"minute\");\n        const n = i / 60;\n        if (Math.abs(n) <= 72)\n          return l.format(Math.round(n), \"hour\");\n        const s = n / 24;\n        if (Math.abs(s) <= 6)\n          return l.format(Math.round(s), \"day\");\n        const c = s / 7;\n        return Math.abs(c) <= 52 ? l.format(Math.round(c), \"week\") : l.format(Math.round(s / 365), \"year\");\n      }\n      return this.formattedFullTime;\n    },\n    formattedFullTime() {\n      return new Intl.DateTimeFormat(D(), this.format).format(this.dateObject);\n    }\n  },\n  watch: {\n    /**\n     * Set or clear interval if relative time is dis/enabled\n     *\n     * @param {boolean} newValue The new value of the relativeTime property\n     */\n    relativeTime(l) {\n      window.clearInterval(this.intervalId), this.intervalId = void 0, l && (this.intervalId = window.setInterval(this.setCurrentTime, 1e3));\n    }\n  },\n  mounted() {\n    this.relativeTime !== !1 && (this.intervalId = window.setInterval(this.setCurrentTime, 1e3));\n  },\n  destroyed() {\n    window.clearInterval(this.intervalId);\n  },\n  methods: {\n    /**\n     * Set `currentTime` to the current timestamp, required as Date.now() is not reactive.\n     */\n    setCurrentTime() {\n      this.currentTime = Date.now();\n    }\n  }\n});\nvar Ke = function() {\n  var e = this, t = e._self._c;\n  return e._self._setupProxy, t(\"span\", { staticClass: \"nc-datetime\", attrs: { \"data-timestamp\": e.timestamp, title: e.formattedFullTime } }, [e._v(e._s(e.formattedTime))]);\n}, We = [], Je = /* @__PURE__ */ p(\n  qe,\n  Ke,\n  We,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Qe = Je.exports, Xe = /* @__PURE__ */ F({\n  __name: \"FileListRow\",\n  props: {\n    allowPickDirectory: { type: Boolean },\n    selected: { type: Boolean },\n    showCheckbox: { type: Boolean },\n    canPick: { type: Boolean },\n    node: null\n  },\n  emits: [\"update:selected\", \"enter-directory\"],\n  setup(l, { emit: e }) {\n    const t = l, i = m(() => {\n      var _;\n      return ((_ = t.node.attributes) == null ? void 0 : _.displayName) || t.node.basename.slice(0, t.node.extension ? -t.node.extension.length : void 0);\n    }), n = m(() => t.node.extension), s = m(() => t.node.type === $.Folder), c = m(() => t.canPick && (t.allowPickDirectory || !s.value));\n    function u() {\n      e(\"update:selected\", !t.selected);\n    }\n    function a() {\n      s.value ? e(\"enter-directory\", t.node) : u();\n    }\n    function h(_) {\n      _.key === \"Enter\" && a();\n    }\n    return { __sfc: !0, props: t, emit: e, displayName: i, fileExtension: n, isDirectory: s, isPickable: c, toggleSelected: u, handleClick: a, handleKeyDown: h, formatFileSize: Y, NcCheckboxRadioSwitch: j, t: d, FilePreview: je, NcDatetime: Qe };\n  }\n});\nvar Ye = function() {\n  var e = this, t = e._self._c, i = e._self._setupProxy;\n  return t(\"tr\", e._g(\n    { class: [\"file-picker__row\", {\n      \"file-picker__row--selected\": e.selected && !e.showCheckbox\n    }], attrs: { tabindex: e.showCheckbox && !i.isDirectory ? void 0 : 0, \"aria-selected\": i.isPickable ? e.selected : void 0, \"data-filename\": e.node.basename, \"data-testid\": \"file-list-row\" }, on: { click: i.handleClick } },\n    /* same as tabindex -> if we hide the checkbox or this is a directory we need keyboard access to enter the directory or select the node */\n    !e.showCheckbox || i.isDirectory ? { keydown: i.handleKeyDown } : {}\n  ), [e.showCheckbox ? t(\"td\", { staticClass: \"row-checkbox\" }, [t(i.NcCheckboxRadioSwitch, { attrs: { disabled: !i.isPickable, checked: e.selected, \"aria-label\": i.t(\"Select the row for {nodename}\", { nodename: i.displayName }), \"data-testid\": \"row-checkbox\" }, on: { click: function(n) {\n    n.stopPropagation();\n  }, \"update:checked\": i.toggleSelected } })], 1) : e._e(), t(\"td\", { staticClass: \"row-name\" }, [t(\"div\", { staticClass: \"file-picker__name-container\", attrs: { \"data-testid\": \"row-name\" } }, [t(i.FilePreview, { attrs: { node: e.node } }), t(\"div\", { staticClass: \"file-picker__file-name\", attrs: { title: i.displayName }, domProps: { textContent: e._s(i.displayName) } }), t(\"div\", { staticClass: \"file-picker__file-extension\", domProps: { textContent: e._s(i.fileExtension) } })], 1)]), t(\"td\", { staticClass: \"row-size\" }, [e._v(\" \" + e._s(i.formatFileSize(e.node.size || 0)) + \" \")]), t(\"td\", { staticClass: \"row-modified\" }, [e.node.mtime ? t(i.NcDatetime, { attrs: { timestamp: e.node.mtime, \"ignore-seconds\": !0 } }) : t(\"span\", [e._v(e._s(i.t(\"Unset\")))])], 1)]);\n}, et = [], tt = /* @__PURE__ */ p(\n  Xe,\n  Ye,\n  et,\n  !1,\n  null,\n  \"41f19c11\",\n  null,\n  null\n);\nconst it = tt.exports, nt = /* @__PURE__ */ F({\n  __name: \"FileList\",\n  props: {\n    multiselect: { type: Boolean },\n    allowPickDirectory: { type: Boolean },\n    loading: { type: Boolean },\n    files: null,\n    selectedFiles: null,\n    path: null\n  },\n  emits: [\"update:path\", \"update:selectedFiles\"],\n  setup(l, { emit: e }) {\n    const t = l, i = v(\"ascending\"), n = v(void 0), s = v(void 0), c = {\n      ascending: (r, o, g) => g(r, o),\n      descending: (r, o, g) => g(o, r),\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      none: (r, o, g) => 0\n    }, u = (r, o) => {\n      var g, b;\n      return (((g = r.attributes) == null ? void 0 : g.displayName) || r.basename).localeCompare(((b = o.attributes) == null ? void 0 : b.displayName) || o.basename, D());\n    }, a = (r, o) => (o.size || 0) - (r.size || 0), h = (r, o) => {\n      var g, b;\n      return (((g = r.mtime) == null ? void 0 : g.getTime()) || 0) - (((b = o.mtime) == null ? void 0 : b.getTime()) || 0);\n    }, _ = (r) => {\n      const o = r.value;\n      s.value = n.value = i.value = void 0, o === \"ascending\" ? r.value = \"descending\" : r.value = \"ascending\";\n    }, k = () => _(i), y = () => _(n), S = () => _(s), w = m(() => [...t.files].sort(\n      (r, o) => (\n        // Folders always come above the files\n        (o.type === $.Folder ? 1 : 0) - (r.type === $.Folder ? 1 : 0) || c[i.value || \"none\"](r, o, u) || c[n.value || \"none\"](r, o, a) || c[s.value || \"none\"](r, o, h)\n      )\n    )), C = m(() => t.files.filter((r) => t.allowPickDirectory || r.type !== $.Folder)), x = m(() => !t.loading && t.selectedFiles.length > 0 && t.selectedFiles.length >= C.value.length);\n    function N() {\n      t.selectedFiles.length < C.value.length ? e(\"update:selectedFiles\", C.value) : e(\"update:selectedFiles\", []);\n    }\n    function B(r) {\n      t.selectedFiles.includes(r) ? e(\"update:selectedFiles\", t.selectedFiles.filter((o) => o.path !== r.path)) : t.multiselect ? e(\"update:selectedFiles\", [...t.selectedFiles, r]) : e(\"update:selectedFiles\", [r]);\n    }\n    function I(r) {\n      e(\"update:path\", q(t.path, r.basename));\n    }\n    const R = v(4), f = v();\n    {\n      const r = () => Q(() => {\n        var o, g, b, T, H;\n        const M = ((g = (o = f.value) == null ? void 0 : o.parentElement) == null ? void 0 : g.children) || [];\n        let A = ((T = (b = f.value) == null ? void 0 : b.parentElement) == null ? void 0 : T.clientHeight) || 450;\n        for (let L = 0; L < M.length; L++)\n          (H = f.value) != null && H.isSameNode(M[L]) || (A -= M[L].clientHeight);\n        R.value = Math.floor((A - 50) / 50);\n      });\n      Z(() => {\n        window.addEventListener(\"resize\", r), r();\n      }), J(() => {\n        window.removeEventListener(\"resize\", r);\n      });\n    }\n    return { __sfc: !0, props: t, emit: e, sortByName: i, sortBySize: n, sortByModified: s, ordering: c, byName: u, bySize: a, byDate: h, toggleSorting: _, toggleSortByName: k, toggleSortBySize: y, toggleSortByModified: S, sortedFiles: w, selectableFiles: C, allSelected: x, onSelectAll: N, onNodeSelected: B, onChangeDirectory: I, skeletonNumber: R, fileContainer: f, NcButton: G, NcCheckboxRadioSwitch: j, t: d, IconSortAscending: be, IconSortDescending: Ne, LoadingTableRow: Re, FileListRow: it };\n  }\n});\nvar lt = function() {\n  var e = this, t = e._self._c, i = e._self._setupProxy;\n  return t(\"div\", { ref: \"fileContainer\", staticClass: \"file-picker__files\" }, [t(\"table\", [t(\"thead\", [t(\"tr\", [e.multiselect ? t(\"th\", { staticClass: \"row-checkbox\" }, [t(\"span\", { staticClass: \"hidden-visually\" }, [e._v(\" \" + e._s(i.t(\"Select entry\")) + \" \")]), e.multiselect ? t(i.NcCheckboxRadioSwitch, { attrs: { \"aria-label\": i.t(\"Select all entries\"), checked: i.allSelected, \"data-testid\": \"select-all-checkbox\" }, on: { \"update:checked\": i.onSelectAll } }) : e._e()], 1) : e._e(), t(\"th\", { staticClass: \"row-name\", attrs: { \"aria-sort\": i.sortByName } }, [t(\"div\", { staticClass: \"header-wrapper\" }, [t(\"span\", { staticClass: \"file-picker__header-preview\" }), t(i.NcButton, { attrs: { wide: !0, type: \"tertiary\", \"data-test\": \"file-picker_sort-name\" }, on: { click: i.toggleSortByName }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [i.sortByName === \"ascending\" ? t(i.IconSortAscending, { attrs: { size: 20 } }) : i.sortByName === \"descending\" ? t(i.IconSortDescending, { attrs: { size: 20 } }) : t(\"span\", { staticStyle: { width: \"44px\" } })];\n  }, proxy: !0 }]) }, [e._v(\" \" + e._s(i.t(\"Name\")) + \" \")])], 1)]), t(\"th\", { staticClass: \"row-size\", attrs: { \"aria-sort\": i.sortBySize } }, [t(i.NcButton, { attrs: { wide: !0, type: \"tertiary\" }, on: { click: i.toggleSortBySize }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [i.sortBySize === \"ascending\" ? t(i.IconSortAscending, { attrs: { size: 20 } }) : i.sortBySize === \"descending\" ? t(i.IconSortDescending, { attrs: { size: 20 } }) : t(\"span\", { staticStyle: { width: \"44px\" } })];\n  }, proxy: !0 }]) }, [e._v(\" \" + e._s(i.t(\"Size\")) + \" \")])], 1), t(\"th\", { staticClass: \"row-modified\", attrs: { \"aria-sort\": i.sortByModified } }, [t(i.NcButton, { attrs: { wide: !0, type: \"tertiary\" }, on: { click: i.toggleSortByModified }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [i.sortByModified === \"ascending\" ? t(i.IconSortAscending, { attrs: { size: 20 } }) : i.sortByModified === \"descending\" ? t(i.IconSortDescending, { attrs: { size: 20 } }) : t(\"span\", { staticStyle: { width: \"44px\" } })];\n  }, proxy: !0 }]) }, [e._v(\" \" + e._s(i.t(\"Modified\")) + \" \")])], 1)])]), t(\"tbody\", [e.loading ? e._l(i.skeletonNumber, function(n) {\n    return t(i.LoadingTableRow, { key: n, attrs: { \"show-checkbox\": e.multiselect } });\n  }) : e._l(i.sortedFiles, function(n) {\n    return t(i.FileListRow, { key: n.fileid || n.path, attrs: { \"allow-pick-directory\": e.allowPickDirectory, \"show-checkbox\": e.multiselect, \"can-pick\": e.multiselect || e.selectedFiles.length === 0 || e.selectedFiles.includes(n), selected: e.selectedFiles.includes(n), node: n }, on: { \"update:selected\": function(s) {\n      return i.onNodeSelected(n);\n    }, \"enter-directory\": i.onChangeDirectory } });\n  })], 2)])]);\n}, st = [], rt = /* @__PURE__ */ p(\n  nt,\n  lt,\n  st,\n  !1,\n  null,\n  \"c78369e2\",\n  null,\n  null\n);\nconst at = rt.exports, ot = {\n  name: \"HomeIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar ct = function() {\n  var e = this, t = e._self._c;\n  return t(\"span\", e._b({ staticClass: \"material-design-icon home-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(i) {\n    return e.$emit(\"click\", i);\n  } } }, \"span\", e.$attrs, !1), [t(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [t(\"path\", { attrs: { d: \"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z\" } }, [e.title ? t(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, ut = [], dt = /* @__PURE__ */ p(\n  ot,\n  ct,\n  ut,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst _t = dt.exports, ft = {\n  name: \"PlusIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar pt = function() {\n  var e = this, t = e._self._c;\n  return t(\"span\", e._b({ staticClass: \"material-design-icon plus-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(i) {\n    return e.$emit(\"click\", i);\n  } } }, \"span\", e.$attrs, !1), [t(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [t(\"path\", { attrs: { d: \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" } }, [e.title ? t(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, mt = [], vt = /* @__PURE__ */ p(\n  ft,\n  pt,\n  mt,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst ht = vt.exports, gt = /* @__PURE__ */ F({\n  __name: \"FilePickerBreadcrumbs\",\n  props: {\n    path: null,\n    showMenu: { type: Boolean }\n  },\n  emits: [\"update:path\", \"create-node\"],\n  setup(l, { emit: e }) {\n    const t = l, i = v(\"\"), n = v();\n    function s() {\n      var a, h, _, k;\n      const y = i.value.trim(), S = (h = (a = n.value) == null ? void 0 : a.$el) == null ? void 0 : h.querySelector(\"input\");\n      let w = \"\";\n      return y.length === 0 ? w = d(\"File name cannot be empty.\") : y.includes(\"/\") ? w = d('\"/\" is not allowed inside a file name.') : [\"..\", \".\"].includes(y) ? w = d('\"{name}\" is an invalid file name.', { name: y }) : (_ = window.OC.config) != null && _.blacklist_files_regex && y.match((k = window.OC.config) == null ? void 0 : k.blacklist_files_regex) && (w = d('\"{name}\" is not an allowed filetype', { name: y })), S && S.setCustomValidity(w), w === \"\";\n    }\n    const c = function() {\n      const a = i.value.trim();\n      s() && (e(\"create-node\", a), i.value = \"\");\n    }, u = m(\n      () => t.path.split(\"/\").filter((a) => a !== \"\").map((a, h, _) => ({\n        name: a,\n        path: \"/\" + _.slice(0, h + 1).join(\"/\")\n      }))\n    );\n    return { __sfc: !0, props: t, emit: e, newNodeName: i, nameInput: n, validateInput: s, onSubmit: c, pathElements: u, IconFolder: V, IconHome: _t, IconPlus: ht, NcActions: le, NcActionInput: se, NcBreadcrumbs: re, NcBreadcrumb: ae, t: d };\n  }\n});\nvar yt = function() {\n  var e = this, t = e._self._c, i = e._self._setupProxy;\n  return t(i.NcBreadcrumbs, { staticClass: \"file-picker__breadcrumbs\", scopedSlots: e._u([{ key: \"default\", fn: function() {\n    return [t(i.NcBreadcrumb, { attrs: { name: i.t(\"Home\"), title: i.t(\"Home\") }, on: { click: function(n) {\n      return i.emit(\"update:path\", \"/\");\n    } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n      return [t(i.IconHome, { attrs: { size: 20 } })];\n    }, proxy: !0 }]) }), e._l(i.pathElements, function(n) {\n      return t(i.NcBreadcrumb, { key: n.path, attrs: { name: n.name, title: n.path }, on: { click: function(s) {\n        return i.emit(\"update:path\", n.path);\n      } } });\n    })];\n  }, proxy: !0 }, e.showMenu ? { key: \"actions\", fn: function() {\n    return [t(i.NcActions, { attrs: { \"aria-label\": i.t(\"Create directory\"), \"force-menu\": !0, \"force-title\": !0, \"menu-title\": i.t(\"New\"), type: \"secondary\" }, on: { close: function(n) {\n      i.newNodeName = \"\";\n    } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n      return [t(i.IconPlus, { attrs: { size: 20 } })];\n    }, proxy: !0 }], null, !1, 2971667417) }, [t(i.NcActionInput, { ref: \"nameInput\", attrs: { value: i.newNodeName, label: i.t(\"New folder\"), placeholder: i.t(\"New folder name\") }, on: { \"update:value\": function(n) {\n      i.newNodeName = n;\n    }, submit: i.onSubmit, input: i.validateInput }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n      return [t(i.IconFolder, { attrs: { size: 20 } })];\n    }, proxy: !0 }], null, !1, 1614167509) })], 1)];\n  }, proxy: !0 } : null], null, !0) });\n}, wt = [], kt = /* @__PURE__ */ p(\n  gt,\n  yt,\n  wt,\n  !1,\n  null,\n  \"f35f86d4\",\n  null,\n  null\n);\nconst Ct = kt.exports, bt = {\n  name: \"ClockIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Ft = function() {\n  var e = this, t = e._self._c;\n  return t(\"span\", e._b({ staticClass: \"material-design-icon clock-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(i) {\n    return e.$emit(\"click\", i);\n  } } }, \"span\", e.$attrs, !1), [t(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [t(\"path\", { attrs: { d: \"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.9L16.2,16.2Z\" } }, [e.title ? t(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, St = [], $t = /* @__PURE__ */ p(\n  bt,\n  Ft,\n  St,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst xt = $t.exports, Nt = {\n  name: \"CloseIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Lt = function() {\n  var e = this, t = e._self._c;\n  return t(\"span\", e._b({ staticClass: \"material-design-icon close-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(i) {\n    return e.$emit(\"click\", i);\n  } } }, \"span\", e.$attrs, !1), [t(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [t(\"path\", { attrs: { d: \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" } }, [e.title ? t(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, Pt = [], zt = /* @__PURE__ */ p(\n  Nt,\n  Lt,\n  Pt,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Bt = zt.exports, It = {\n  name: \"MagnifyIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Rt = function() {\n  var e = this, t = e._self._c;\n  return t(\"span\", e._b({ staticClass: \"material-design-icon magnify-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(i) {\n    return e.$emit(\"click\", i);\n  } } }, \"span\", e.$attrs, !1), [t(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [t(\"path\", { attrs: { d: \"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\" } }, [e.title ? t(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, Mt = [], Dt = /* @__PURE__ */ p(\n  It,\n  Rt,\n  Mt,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Vt = Dt.exports, Tt = {\n  name: \"StarIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Ht = function() {\n  var e = this, t = e._self._c;\n  return t(\"span\", e._b({ staticClass: \"material-design-icon star-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(i) {\n    return e.$emit(\"click\", i);\n  } } }, \"span\", e.$attrs, !1), [t(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [t(\"path\", { attrs: { d: \"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z\" } }, [e.title ? t(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, At = [], Et = /* @__PURE__ */ p(\n  Tt,\n  Ht,\n  At,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Ut = Et.exports, Ot = /* @__PURE__ */ F({\n  __name: \"FilePickerNavigation\",\n  props: {\n    currentView: null,\n    filterString: null,\n    isCollapsed: { type: Boolean }\n  },\n  emits: [\"update:currentView\", \"update:filterString\"],\n  setup(l, { emit: e }) {\n    const t = l, i = [{\n      id: \"files\",\n      label: d(\"All files\"),\n      icon: V\n    }, {\n      id: \"recent\",\n      label: d(\"Recent\"),\n      icon: xt\n    }, {\n      id: \"favorites\",\n      label: d(\"Favorites\"),\n      icon: Ut\n    }], n = m(() => i.filter((c) => c.id === t.currentView)[0]);\n    return { __sfc: !0, allViews: i, props: t, emit: e, currentViewObject: n, updateFilterValue: (c) => e(\"update:filterString\", c), IconClose: Bt, IconMagnify: Vt, NcButton: G, NcSelect: oe, NcTextField: ce, t: d, Fragment: fe };\n  }\n});\nvar Zt = function() {\n  var e = this, t = e._self._c, i = e._self._setupProxy;\n  return t(i.Fragment, [t(i.NcTextField, { staticClass: \"file-picker__filter-input\", attrs: { value: e.filterString, label: i.t(\"Filter file list\"), \"show-trailing-button\": !!e.filterString }, on: { \"update:value\": i.updateFilterValue, \"trailing-button-click\": function(n) {\n    return i.updateFilterValue(\"\");\n  } }, scopedSlots: e._u([{ key: \"trailing-button-icon\", fn: function() {\n    return [t(i.IconClose, { attrs: { size: 16 } })];\n  }, proxy: !0 }]) }, [t(i.IconMagnify, { attrs: { size: 16 } })], 1), e.isCollapsed ? t(i.NcSelect, { attrs: { \"aria-label\": i.t(\"Current view selector\"), clearable: !1, searchable: !1, options: i.allViews, value: i.currentViewObject }, on: { input: (n) => i.emit(\"update:currentView\", n.id) } }) : t(\"ul\", { staticClass: \"file-picker__side\", attrs: { role: \"tablist\", \"aria-label\": i.t(\"Filepicker sections\") } }, e._l(i.allViews, function(n) {\n    return t(\"li\", { key: n.id }, [t(i.NcButton, { attrs: { \"aria-selected\": e.currentView === n.id, type: e.currentView === n.id ? \"primary\" : \"tertiary\", wide: !0, role: \"tab\" }, on: { click: function(s) {\n      return e.$emit(\"update:currentView\", n.id);\n    } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n      return [t(n.icon, { tag: \"component\", attrs: { size: 20 } })];\n    }, proxy: !0 }], null, !0) }, [e._v(\" \" + e._s(n.label) + \" \")])], 1);\n  }), 0)], 1);\n}, jt = [], Gt = /* @__PURE__ */ p(\n  Ot,\n  Zt,\n  jt,\n  !1,\n  null,\n  \"fcfd0f23\",\n  null,\n  null\n);\nconst qt = Gt.exports;\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst Kt = function(l, e) {\n  const t = ee(_e(\"dav\")), i = v([]), n = v(!0);\n  async function s(u) {\n    const a = await t.stat(\"\".concat(z).concat(u), {\n      details: !0\n    });\n    return P(a.data);\n  }\n  async function c() {\n    if (n.value = !0, l.value === \"favorites\")\n      i.value = await t.getDirectoryContents(\"\".concat(z).concat(e.value), {\n        details: !0,\n        data: te(),\n        headers: {\n          method: \"REPORT\"\n        },\n        includeSelf: !1\n      }).then((u) => u.data.map((a) => P(a)));\n    else if (l.value === \"recent\") {\n      const u = Math.round(Date.now() / 1e3) - 1209600, a = await t.getDirectoryContents(e.value, {\n        details: !0,\n        data: ie(u),\n        headers: {\n          method: \"SEARCH\",\n          \"Content-Type\": \"application/xml; charset=utf-8\"\n        },\n        deep: !0\n      });\n      i.value = a.data.map((h) => P(h));\n    } else {\n      const u = await t.getDirectoryContents(\"\".concat(z).concat(e.value), {\n        details: !0,\n        data: ne()\n      });\n      i.value = u.data.map((a) => P(a));\n    }\n    n.value = !1;\n  }\n  return O([l, e], () => c()), {\n    isLoading: n,\n    files: i,\n    loadFiles: () => c(),\n    getFile: s,\n    client: t\n  };\n};\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst Wt = function(l) {\n  const e = m(() => l.value.map((i) => i.split(\"/\")));\n  return {\n    isSupportedMimeType: (i) => {\n      const n = i.split(\"/\");\n      return e.value.some(\n        ([s, c]) => (\n          // check mime type matches or is wildcard\n          (n[0] === s || s === \"*\") && (n[1] === c || c === \"*\")\n        )\n      );\n    }\n  };\n}, Jt = {\n  name: \"FilePicker\"\n}, Qt = /* @__PURE__ */ F({\n  ...Jt,\n  props: {\n    buttons: null,\n    name: null,\n    allowPickDirectory: { type: Boolean, default: !1 },\n    container: { default: \"body\" },\n    filterFn: { default: void 0 },\n    mimetypeFilter: { default: () => [] },\n    multiselect: { type: Boolean, default: !0 },\n    path: { default: \"/\" }\n  },\n  emits: [\"close\"],\n  setup(l, { emit: e }) {\n    const t = l, i = m(() => ({\n      container: t.container,\n      name: t.name,\n      buttons: n.value,\n      size: \"large\",\n      contentClasses: [\"file-picker__content\"],\n      dialogClasses: [\"file-picker\"],\n      navigationClasses: [\"file-picker__navigation\"]\n    })), n = m(() => (typeof t.buttons == \"function\" ? t.buttons(u.value, _.value, s.value) : t.buttons).map((r) => ({\n      ...r,\n      callback: async () => {\n        const o = u.value.length === 0 && t.allowPickDirectory ? [await x(_.value)] : u.value;\n        r.callback(o), e(\"close\", u.value);\n      }\n    }))), s = v(\"files\"), c = m(() => s.value === \"favorites\" ? d(\"Favorites\") : s.value === \"recent\" ? d(\"Recent\") : \"\"), u = v([]), a = v((window == null ? void 0 : window.sessionStorage.getItem(\"NC.FilePicker.LastPath\")) || \"/\"), h = v(), _ = m({\n      // Only use the path for the files view as favorites and recent only works on the root\n      get: () => s.value === \"files\" ? h.value || t.path || a.value : \"/\",\n      /**\n       * Navigate to the new path and save it to the session storage\n       *\n       * @param path The new path\n       */\n      set: (f) => {\n        t.path === void 0 && window.sessionStorage.setItem(\"NC.FilePicker.LastPath\", f), h.value = f, u.value = [];\n      }\n    }), k = v(\"\"), { isSupportedMimeType: y } = Wt(U(t, \"mimetypeFilter\")), { files: S, isLoading: w, loadFiles: C, getFile: x, client: N } = Kt(s, _);\n    Z(() => C());\n    const B = m(() => {\n      let f = S.value;\n      return t.mimetypeFilter.length > 0 && (f = f.filter((r) => r.type === \"folder\" || r.mime && y(r.mime))), k.value && (f = f.filter((r) => r.basename.toLowerCase().includes(k.value.toLowerCase()))), t.filterFn && (f = f.filter((r) => t.filterFn(r))), f;\n    }), I = m(() => s.value === \"files\" ? d(\"Upload some content or sync with your devices!\") : s.value === \"recent\" ? d(\"Files and folders you recently modified will show up here.\") : d(\"Files and folders you mark as favorite will show up here.\"));\n    return { __sfc: !0, props: t, emit: e, dialogProps: i, dialogButtons: n, currentView: s, viewHeadline: c, selectedFiles: u, savedPath: a, navigatedPath: h, currentPath: _, filterString: k, isSupportedMimeType: y, files: S, isLoading: w, loadFiles: C, getFile: x, client: N, filteredFiles: B, noFilesDescription: I, onCreateFolder: (f) => {\n      N.createDirectory(q(z, _.value, f)).then(() => C()).catch((r) => pe(d(\"Could not create the new folder\")));\n    }, IconFile: K, DialogBase: X, FileList: at, FilePickerBreadcrumbs: Ct, FilePickerNavigation: qt, NcEmptyContent: ue, t: d };\n  }\n});\nvar Xt = function() {\n  var e = this, t = e._self._c, i = e._self._setupProxy;\n  return t(i.DialogBase, e._b({ on: { close: function(n) {\n    return i.emit(\"close\");\n  } }, scopedSlots: e._u([{ key: \"navigation\", fn: function({ isCollapsed: n }) {\n    return [t(i.FilePickerNavigation, { attrs: { \"is-collapsed\": n, \"current-view\": i.currentView, \"filter-string\": i.filterString }, on: { \"update:currentView\": function(s) {\n      i.currentView = s;\n    }, \"update:current-view\": function(s) {\n      i.currentView = s;\n    }, \"update:filterString\": function(s) {\n      i.filterString = s;\n    }, \"update:filter-string\": function(s) {\n      i.filterString = s;\n    } } })];\n  } }]) }, \"DialogBase\", i.dialogProps, !1), [t(\"div\", { staticClass: \"file-picker__main\" }, [i.currentView === \"files\" ? t(i.FilePickerBreadcrumbs, { attrs: { path: i.currentPath, \"show-menu\": e.allowPickDirectory }, on: { \"update:path\": function(n) {\n    i.currentPath = n;\n  }, \"create-node\": i.onCreateFolder } }) : t(\"div\", { staticClass: \"file-picker__view\" }, [t(\"h3\", [e._v(e._s(i.viewHeadline))])]), i.isLoading || i.filteredFiles.length > 0 ? t(i.FileList, { attrs: { \"allow-pick-directory\": e.allowPickDirectory, files: i.filteredFiles, multiselect: e.multiselect, loading: i.isLoading, path: i.currentPath, \"selected-files\": i.selectedFiles, name: i.viewHeadline }, on: { \"update:path\": [function(n) {\n    i.currentPath = n;\n  }, function(n) {\n    i.currentView = \"files\";\n  }], \"update:selectedFiles\": function(n) {\n    i.selectedFiles = n;\n  }, \"update:selected-files\": function(n) {\n    i.selectedFiles = n;\n  } } }) : i.filterString ? t(i.NcEmptyContent, { attrs: { name: i.t(\"No matching files\"), description: i.t(\"No files matching your filter were found.\") }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [t(i.IconFile)];\n  }, proxy: !0 }]) }) : t(i.NcEmptyContent, { attrs: { name: i.t(\"No files in here\"), description: i.noFilesDescription }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [t(i.IconFile)];\n  }, proxy: !0 }]) })], 1)]);\n}, Yt = [], ei = /* @__PURE__ */ p(\n  Qt,\n  Xt,\n  Yt,\n  !1,\n  null,\n  \"dff32532\",\n  null,\n  null\n);\nconst _i = ei.exports;\nexport {\n  _i as default\n};\n"],"names":["e","setApp","build","setUid","uid","C","P","Yt","t","r","s","Number","n","Math","floor","log","min","length","i","d","pow","toFixed","parseFloat","toLocaleString","N","NONE","CREATE","READ","UPDATE","DELETE","SHARE","ALL","j","Y","nc","oc","ocs","V","window","_nc_dav_properties","map","join","L","_nc_dav_namespaces","Object","keys","Ee","or","Folder","File","J","match","X","id","Error","source","URL","startsWith","mtime","Date","crtime","mime","size","permissions","owner","attributes","root","includes","status","values","Q","NEW","FAILED","LOADING","LOCKED","D","_data","_attributes","_knownDavService","constructor","this","set","updateMtime","Reflect","deleteProperty","Proxy","replace","encodedSource","origin","slice","basename","extension","dirname","indexOf","pathname","isDavRessource","split","pop","path","fileid","move","rename","ye","type","_e","super","ee","te","ve","props","be","filename","parse","lastmod","parseInt","getcontentlength","hasPreview","S","O","RegExp","isExist","u","isEmptyObject","merge","o","a","l","f","c","getValue","isName","exec","getAllMatches","startIndex","lastIndex","g","push","nameRegexp","M","Oe","allowBooleanAttributes","unpairedTags","U","G","substr","p","w","z","validate","assign","err","trim","substring","Re","xe","value","index","H","code","msg","line","tagClosed","tagName","tagStartPos","col","Ve","JSON","stringify","Ce","Pe","$e","v","Le","hasOwnProperty","Fe","B","re","preserveOrder","attributeNamePrefix","attributesGroupName","textNodeName","ignoreAttributes","removeNSPrefix","parseTagValue","parseAttributeValue","trimValues","cdataPropName","numberParseOptions","hex","leadingZeros","eNotation","tagValueProcessor","attributeValueProcessor","stopNodes","alwaysCreateTextNode","isArray","commentPropName","processEntities","htmlEntities","ignoreDeclaration","ignorePiTags","transformTagName","transformAttributeName","updateTag","buildOptions","defaultOptions","k","ne","ie","Nt","bt","Et","Array","prettify","yt","vt","se","Pt","h","xt","oe","K","_","E","indentBy","suppressUnpairedNode","suppressEmptyNode","endsWith","suppressBooleanAttributes","lastIndexOf","entities","regex","val","$t","format","Ft","Vt","oneListGroup","b","options","isAttribute","attrPrefixLen","St","processTextOrObjNode","Lt","indentate","Rt","tagEndChar","newLine","j2x","buildTextValNode","attrStr","buildObjectNode","repeat","prototype","arrayNodeName","call","buildAttrPairStr","replaceEntitiesValue","closeTag","name","emits","title","String","fillColor","default","_self","_c","_b","staticClass","attrs","role","on","click","$emit","$attrs","fill","width","height","viewBox","_v","_s","he","exports","we","__name","showCheckbox","Boolean","setup","__sfc","fileListIconStyles","_setupProxy","class","_m","cropPreview","mimeFallback","previewUrl","location","searchParams","concat","etag","previewURL","node","document","createElement","src","href","onerror","remove","onload","body","appendChild","immediate","isFile","canLoadPreview","IconFile","IconFolder","style","backgroundImage","long","short","narrow","timestamp","required","timeStyle","dateStyle","relativeTime","validator","ignoreSeconds","data","currentTime","now","intervalId","computed","dateObject","formattedTime","Intl","RelativeTimeFormat","numeric","valueOf","abs","round","formattedFullTime","DateTimeFormat","watch","clearInterval","setInterval","setCurrentTime","mounted","destroyed","methods","allowPickDirectory","selected","canPick","emit","displayName","fileExtension","isDirectory","isPickable","toggleSelected","handleClick","handleKeyDown","key","formatFileSize","NcCheckboxRadioSwitch","FilePreview","NcDatetime","_g","tabindex","keydown","disabled","checked","nodename","stopPropagation","domProps","textContent","multiselect","loading","files","selectedFiles","ascending","descending","none","localeCompare","getTime","sort","filter","x","R","T","parentElement","children","A","clientHeight","isSameNode","addEventListener","removeEventListener","sortByName","sortBySize","sortByModified","ordering","byName","bySize","byDate","toggleSorting","toggleSortByName","toggleSortBySize","toggleSortByModified","sortedFiles","selectableFiles","allSelected","onSelectAll","onNodeSelected","onChangeDirectory","skeletonNumber","fileContainer","NcButton","IconSortAscending","IconSortDescending","LoadingTableRow","FileListRow","ref","wide","scopedSlots","_u","fn","staticStyle","proxy","_l","showMenu","y","$el","querySelector","OC","config","blacklist_files_regex","setCustomValidity","newNodeName","nameInput","validateInput","onSubmit","pathElements","IconHome","IconPlus","NcActions","NcActionInput","NcBreadcrumbs","NcBreadcrumb","close","label","placeholder","submit","input","Ht","currentView","filterString","isCollapsed","icon","allViews","currentViewObject","updateFilterValue","IconClose","IconMagnify","NcSelect","NcTextField","Fragment","Zt","clearable","searchable","tag","jt","Kt","setHeaders","requesttoken","patch","headers","method","fetch","async","getDirectoryContents","details","includeSelf","then","deep","isLoading","loadFiles","getFile","stat","client","buttons","container","filterFn","mimetypeFilter","contentClasses","dialogClasses","navigationClasses","callback","sessionStorage","getItem","get","setItem","isSupportedMimeType","some","Wt","toLowerCase","I","dialogProps","dialogButtons","viewHeadline","savedPath","navigatedPath","currentPath","filteredFiles","noFilesDescription","onCreateFolder","createDirectory","catch","DialogBase","FileList","FilePickerBreadcrumbs","FilePickerNavigation","NcEmptyContent","description","_i"],"sourceRoot":""}